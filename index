<!doctype html>
<html>
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" id="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
      <script>
document.write(unescape('%0A%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22bn%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset%3D%22UTF-8%22%3E%0A%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%2C%20maximum-scale%3D1.0%2C%20user-scalable%3Dno%22%3E%0A%20%20%20%20%3Ctitle%3EUNO%3C/title%3E%0A%20%20%20%20%3Cscript%20src%3D%22https%3A//unpkg.com/peerjs@1.4.7/dist/peerjs.min.js%22%3E%3C/script%3E%0A%20%20%20%20%3Clink%20href%3D%22https%3A//cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css%22%20rel%3D%22stylesheet%22%3E%0A%20%20%20%20%3Clink%20href%3D%22https%3A//fonts.googleapis.com/css2%3Ffamily%3DFredoka%3Awght@400%3B700%26family%3DNunito%3Awght@600%3B800%26display%3Dswap%22%20rel%3D%22stylesheet%22%3E%0A%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20%20%20%3Aroot%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20/*%20Core%20Game%20Colors%20%28UNCHANGED%29%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--bg-dark%3A%20%231a1a2e%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--red%3A%20%23ff4757%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--blue%3A%20%231e90ff%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20--green-uno%3A%20%232ed573%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20--yellow%3A%20%23ffa502%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--black%3A%20%232f3542%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--card-back-grad%3A%20linear-gradient%28135deg%2C%20%23e17055%2C%20%23d63031%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--card-border%3A%202px%20solid%20%23fff%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20/*%20NEW%20UI%20VARIABLES%20%28For%20Menus%29%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20--glass-bg%3A%20rgba%28255%2C%20255%2C%20255%2C%200.1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--glass-border%3A%20rgba%28255%2C%20255%2C%20255%2C%200.2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--neon-glow%3A%200%200%2015px%20rgba%28255%2C%20165%2C%202%2C%200.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--shadow-soft%3A%200%2010px%2030px%20rgba%280%2C0%2C0%2C0.5%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20*%20%7B%20box-sizing%3A%20border-box%3B%20user-select%3A%20none%3B%20-webkit-tap-highlight-color%3A%20transparent%3B%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20body%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%200%3B%20padding%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20%27Nunito%27%2C%20sans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient%28-45deg%2C%20%23ee7752%2C%20%23e73c7e%2C%20%2323a6d5%2C%20%2323d5ab%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-size%3A%20400%25%20400%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20gradientBG%2015s%20ease%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100vh%3B%20overflow%3A%20hidden%3B%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20@keyframes%20gradientBG%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%200%25%20%7B%20background-position%3A%200%25%2050%25%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%2050%25%20%7B%20background-position%3A%20100%25%2050%25%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20100%25%20%7B%20background-position%3A%200%25%2050%25%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20/*%20---%20UI%20UPGRADES%20%28MENUS%20ONLY%29%20---%20*/%0A%20%20%20%20%20%20%20%20.screen%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%20top%3A%200%3B%20left%3A%200%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20none%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%280%2C%200%2C%200%2C%200.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20backdrop-filter%3A%20blur%288px%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%2010%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20opacity%200.3s%20ease-in-out%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.screen.active%20%7B%20display%3A%20flex%3B%20opacity%3A%201%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20h1%2C%20h2%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20%27Fredoka%27%2C%20sans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-shadow%3A%200%204px%2010px%20rgba%280%2C0%2C0%2C0.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20letter-spacing%3A%201px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.btn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2016px%2032px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%201.2rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20800%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.1s%20cubic-bezier%280.4%2C%200%2C%200.2%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%206px%200%20rgba%280%2C0%2C0%2C0.2%29%2C%200%2010px%2020px%20rgba%280%2C0%2C0%2C0.2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20min-width%3A%20280px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20gap%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-transform%3A%20uppercase%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20.btn%3Aactive%20%7B%20transform%3A%20translateY%286px%29%3B%20box-shadow%3A%200%200%200%20rgba%280%2C0%2C0%2C0.2%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.btn%3A%3Aafter%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20content%3A%20%27%27%3B%20position%3A%20absolute%3B%20top%3A%200%3B%20left%3A%200%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient%28rgba%28255%2C255%2C255%2C0.2%29%2C%20transparent%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pointer-events%3A%20none%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.btn-bot%20%7B%20background%3A%20linear-gradient%28to%20bottom%2C%20%23f39c12%2C%20%23d35400%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.btn-friends%20%7B%20background%3A%20linear-gradient%28to%20bottom%2C%20%233498db%2C%20%232980b9%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.btn-primary%20%7B%20background%3A%20linear-gradient%28to%20bottom%2C%20%238e44ad%2C%20%238e44ad%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.btn-success%20%7B%20background%3A%20linear-gradient%28to%20bottom%2C%20%232ecc71%2C%20%2327ae60%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.btn-danger%20%7B%20background%3A%20linear-gradient%28to%20bottom%2C%20%23e74c3c%2C%20%23c0392b%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.btn-secondary%20%7B%20background%3A%20%2334495e%3B%20color%3A%20%23ecf0f1%3B%20%7D%0A%20%20%20%20%20%20%20%20.btn-warning%20%7B%20background%3A%20linear-gradient%28to%20bottom%2C%20%23f1c40f%2C%20%23f39c12%29%3B%20color%3A%20%232c3e50%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20input%2C%20select%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2018px%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2015px%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%202px%20solid%20rgba%28255%2C255%2C255%2C0.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%280%2C0%2C0%2C0.4%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%201.3rem%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2085%25%3B%20max-width%3A%20350px%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20outline%3A%20none%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%2025px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20%27Nunito%27%2C%20sans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.3s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%20inset%200%202px%205px%20rgba%280%2C0%2C0%2C0.2%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20input%3Afocus%2C%20select%3Afocus%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-color%3A%20var%28--yellow%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%280%2C0%2C0%2C0.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%200%2015px%20rgba%28255%2C%20165%2C%202%2C%200.3%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20input%3A%3Aplaceholder%20%7B%20color%3A%20rgba%28255%2C255%2C255%2C0.5%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.main-logo%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%206rem%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%200%200%2020px%200%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var%28--yellow%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20%27Fredoka%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20text-shadow%3A%204px%204px%200px%20var%28--red%29%2C%208px%208px%200px%20rgba%280%2C0%2C0%2C0.2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20bounceLogo%202s%20infinite%20ease-in-out%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20@keyframes%20bounceLogo%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%200%25%2C%20100%25%20%7B%20transform%3A%20scale%281%29%20rotate%28-5deg%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%2050%25%20%7B%20transform%3A%20scale%281.1%29%20rotate%285deg%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.lobby-card%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%28255%2C255%2C255%2C0.1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20backdrop-filter%3A%20blur%285px%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2012px%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%208px%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-left%3A%205px%20solid%20var%28--green-uno%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20slideIn%200.3s%20ease%20forwards%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20@keyframes%20slideIn%20%7B%20from%20%7B%20opacity%3A%200%3B%20transform%3A%20translateX%28-20px%29%3B%20%7D%20to%20%7B%20opacity%3A%201%3B%20transform%3A%20translateX%280%29%3B%20%7D%20%7D%0A%0A%20%20%20%20%20%20%20%20.glass-panel%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%280%2C%200%2C%200%2C%200.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20backdrop-filter%3A%20blur%2810px%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20rgba%28255%2C255%2C255%2C0.1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2030px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%2015px%2035px%20rgba%280%2C0%2C0%2C0.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%2090%25%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20/*%20---%20GAME%20BOARD%20---%20*/%0A%20%20%20%20%20%20%20%20%23game-area%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20radial-gradient%28circle%2C%20%23592929%2C%20%232b1010%2C%20%23000000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.seat%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%205%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.3s%20ease%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.seat-top%20%7B%20top%3A%2020px%3B%20left%3A%2050%25%3B%20transform%3A%20translateX%28-50%25%29%3B%20flex-direction%3A%20column%3B%20%7D%0A%20%20%20%20%20%20%20%20.seat-left%20%7B%20top%3A%2045%25%3B%20left%3A%200%3B%20transform%3A%20translateY%28-50%25%29%3B%20flex-direction%3A%20row%3B%20justify-content%3A%20flex-start%3B%20%7D%0A%20%20%20%20%20%20%20%20.seat-right%20%7B%20top%3A%2045%25%3B%20right%3A%200%3B%20transform%3A%20translateY%28-50%25%29%3B%20flex-direction%3A%20row%3B%20justify-content%3A%20flex-end%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.p-info-box%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%280%2C0%2C0%2C0.6%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%205px%2010px%3B%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%20border%3A%201px%20solid%20rgba%28255%2C255%2C255%2C0.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%2020%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%20gap%3A%205px%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20white-space%3A%20nowrap%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%202px%205px%20rgba%280%2C0%2C0%2C0.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%200.8rem%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.seat-left%20.p-info-box%20%7B%20writing-mode%3A%20vertical-rl%3B%20text-orientation%3A%20mixed%3B%20padding%3A%2010px%205px%3B%20margin%3A%200%2015px%3B%20transform%3A%20rotate%280deg%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.seat-right%20.p-info-box%20%7B%20writing-mode%3A%20vertical-rl%3B%20text-orientation%3A%20mixed%3B%20padding%3A%2010px%205px%3B%20margin%3A%200%2015px%3B%20transform%3A%20rotate%28180deg%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.seat-left%20.p-info-box%20i%2C%20.seat-left%20.mute-opponent-btn%20%7B%20transform%3A%20rotate%28-90deg%29%3B%20margin%3A%202px%200%3B%20%7D%0A%20%20%20%20%20%20%20%20.seat-right%20.p-info-box%20i%2C%20.seat-right%20.mute-opponent-btn%20%7B%20transform%3A%20rotate%2890deg%29%3B%20margin%3A%202px%200%3B%20%7D%0A%20%20%20%20%20%20%20%20.seat-top%20.p-info-box%20%7B%20margin-top%3A%2010px%3B%20margin-bottom%3A%200%3B%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20.card-stack%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20transform%200.3s%20cubic-bezier%280.175%2C%200.885%2C%200.32%2C%201.275%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.card-stack.visible%20%7B%20opacity%3A%201%3B%20transition%3A%20opacity%200.5s%3B%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20.seat.active-turn%20.card-stack%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale%281.2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20drop-shadow%280%200%2010px%20var%28--yellow%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.seat.active-turn%20.p-info-box%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20border-color%3A%20var%28--yellow%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%200%2010px%20var%28--yellow%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%28255%2C%20165%2C%202%2C%200.3%29%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.opp-card%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var%28--card-back-grad%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20var%28--card-border%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%205px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%20-2px%202px%205px%20rgba%280%2C0%2C0%2C0.4%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.opp-card%3A%3Aafter%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20content%3A%20%22UNO%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%208px%3B%20font-weight%3A%20bold%3B%20color%3A%20rgba%28255%2C255%2C255%2C0.3%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20%27Fredoka%27%3B%20transform%3A%20rotate%28-25deg%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.stack-horizontal%20%7B%20flex-direction%3A%20row%3B%20%7D%0A%20%20%20%20%20%20%20%20.stack-horizontal%20.opp-card%20%7B%20width%3A%2040px%3B%20height%3A%2060px%3B%20margin-right%3A%20-28px%3B%20%7D%0A%20%20%20%20%20%20%20%20.stack-horizontal%20.opp-card%3Alast-child%20%7B%20margin-right%3A%200%3B%20%7D%0A%20%20%20%20%20%20%20%20.stack-vertical%20%7B%20flex-direction%3A%20column%3B%20%7D%0A%20%20%20%20%20%20%20%20.stack-vertical%20.opp-card%20%7B%20width%3A%2070px%3B%20height%3A%2045px%3B%20margin-bottom%3A%20-35px%3B%20%7D%0A%20%20%20%20%20%20%20%20.stack-vertical%20.opp-card%3Alast-child%20%7B%20margin-bottom%3A%200%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.seat-left%20.card-stack%20%7B%20margin-left%3A%20-40px%3B%20%7D%0A%20%20%20%20%20%20%20%20.seat-left%20.opp-card%20%7B%20border-top-right-radius%3A%208px%3B%20border-bottom-right-radius%3A%208px%3B%20%7D%0A%20%20%20%20%20%20%20%20.seat-right%20.card-stack%20%7B%20margin-right%3A%20-40px%3B%20%7D%0A%20%20%20%20%20%20%20%20.seat-right%20.opp-card%20%7B%20border-top-left-radius%3A%208px%3B%20border-bottom-left-radius%3A%208px%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.p-name%20%7B%20font-size%3A%200.9rem%3B%20font-weight%3A%20bold%3B%20color%3A%20%23fff%3B%20text-shadow%3A%201px%201px%202px%20black%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.table-center%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%20top%3A%2048%25%3B%20left%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translate%28-50%25%2C%20-50%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%20gap%3A%2030px%3B%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.direction-spin%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20320px%3B%20height%3A%20320px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%2048%25%3B%20left%3A%2050%25%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translate%28-50%25%2C%20-50%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pointer-events%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-image%3A%20url%28%22data%3Aimage/svg+xml%2C%253Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20200%20200%27%253E%253Cpath%20d%3D%27M100%2C20%20A80%2C80%200%200%2C1%20180%2C100%27%20style%3D%27fill%3Anone%3Bstroke%3Argba%28255%2C255%2C255%2C0.15%29%3Bstroke-width%3A8%3Bstroke-dasharray%3A10%2C15%3Bstroke-linecap%3Around%3B%27/%253E%253Cpath%20d%3D%27M100%2C180%20A80%2C80%200%200%2C1%2020%2C100%27%20style%3D%27fill%3Anone%3Bstroke%3Argba%28255%2C255%2C255%2C0.15%29%3Bstroke-width%3A8%3Bstroke-dasharray%3A10%2C15%3Bstroke-linecap%3Around%3B%27/%253E%253C/svg%253E%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-size%3A%20contain%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-repeat%3A%20no-repeat%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background-position%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.spin-cw%20%7B%20animation%3A%20spinRight%2040s%20linear%20infinite%3B%20%7D%0A%20%20%20%20%20%20%20%20.spin-ccw%20%7B%20animation%3A%20spinLeft%2040s%20linear%20infinite%3B%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20@keyframes%20spinRight%20%7B%200%25%7Btransform%3Atranslate%28-50%25%2C-50%25%29%20rotate%280deg%29%3B%7D%20100%25%7Btransform%3Atranslate%28-50%25%2C-50%25%29%20rotate%28360deg%29%3B%7D%20%7D%0A%20%20%20%20%20%20%20%20@keyframes%20spinLeft%20%7B%200%25%7Btransform%3Atranslate%28-50%25%2C-50%25%29%20rotate%28360deg%29%3B%7D%20100%25%7Btransform%3Atranslate%28-50%25%2C-50%25%29%20rotate%280deg%29%3B%7D%20%7D%0A%0A%20%20%20%20%20%20%20%20%23starter-arrow-container%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%20top%3A%2048%25%3B%20left%3A%2050%25%3B%20width%3A%200%3B%20height%3A%200%3B%20z-index%3A%20200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%23starter-arrow%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%20top%3A%200%3B%20left%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20160px%3B%20height%3A%2010px%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20transparent%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform-origin%3A%20left%20center%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%23starter-arrow%3A%3Aafter%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20content%3A%20%27%27%3B%20position%3A%20absolute%3B%20right%3A%20-20px%3B%20top%3A%20-25px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-top%3A%2030px%20solid%20transparent%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-bottom%3A%2030px%20solid%20transparent%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-left%3A%2060px%20solid%20%2300d2d3%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20drop-shadow%280%200%2010px%20%2300d2d3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20arrowPulse%200.5s%20infinite%20alternate%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20@keyframes%20arrowPulse%20%7B%20from%20%7B%20transform%3A%20scale%281%29%3B%20%7D%20to%20%7B%20transform%3A%20scale%281.2%29%3B%20%7D%20%7D%0A%0A%20%20%20%20%20%20%20%20.card%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2080px%3B%20height%3A%20120px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20white%3B%20border-radius%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%203px%206px%20rgba%280%2C0%2C0%2C0.4%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%204px%20solid%20white%3B%20font-family%3A%20%27Fredoka%27%2C%20sans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20transform%200.2s%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.card-inner%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%20height%3A%20100%25%3B%20border-radius%3A%206px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%202.5rem%3B%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-shadow%3A%202px%202px%200%20rgba%280%2C0%2C0%2C0.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.card-inner%3A%3Abefore%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20content%3A%20%27%27%3B%20position%3A%20absolute%3B%20width%3A%20140%25%3B%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%28255%2C255%2C255%2C0.2%29%3B%20transform%3A%20rotate%2845deg%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.c-red%20%7B%20background%3A%20var%28--red%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.c-blue%20%7B%20background%3A%20var%28--blue%29%3B%20%7D%20%0A%20%20%20%20%20%20%20%20.c-green%20%7B%20background%3A%20var%28--green-uno%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.c-yellow%20%7B%20background%3A%20var%28--yellow%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.c-black%20%7B%20background%3A%20%232f3542%3B%20background-image%3A%20linear-gradient%28135deg%2C%20%232f3542%200%25%2C%20%23000%20100%25%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.card-icon-corner%20%7B%20position%3A%20absolute%3B%20font-size%3A%201rem%3B%20color%3A%20white%3B%20padding%3A%204px%3B%20%7D%0A%20%20%20%20%20%20%20%20.tl%20%7B%20top%3A%200%3B%20left%3A%200%3B%20%7D%0A%20%20%20%20%20%20%20%20.br%20%7B%20bottom%3A%200%3B%20right%3A%200%3B%20transform%3A%20rotate%28180deg%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.pile-slot%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2080px%3B%20height%3A%20120px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%202px%20dashed%20rgba%28255%2C255%2C255%2C0.3%29%3B%20border-radius%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%20justify-content%3A%20center%3B%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.deck-pile%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient%28135deg%2C%20%23e17055%2C%20%23d63031%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%203px%20solid%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%205px%2015px%20rgba%280%2C0%2C0%2C0.4%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.3s%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.deck-pile.hint-active%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20bounceGlow%201s%20ease-in-out%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-color%3A%20%23ffd700%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%200%2020px%20%23ffd700%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20@keyframes%20bounceGlow%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%200%25%2C%20100%25%20%7B%20transform%3A%20scale%281%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%2050%25%20%7B%20transform%3A%20scale%281.15%29%3B%20box-shadow%3A%200%200%2030px%20%23ffff00%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.deck-pile%3A%3Aafter%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20content%3A%20%22UNO%22%3B%20color%3A%20rgba%28255%2C255%2C255%2C0.8%29%3B%20font-weight%3A%20bold%3B%20font-family%3A%20%27Fredoka%27%3B%20font-size%3A%201.5rem%3B%20transform%3A%20rotate%28-25deg%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.deck-pile%3Aactive%20%7B%20transform%3A%20scale%280.95%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.color-bubble%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%20top%3A%20-50px%3B%20left%3A%2050%25%3B%20transform%3A%20translateX%28-50%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2040px%3B%20height%3A%2040px%3B%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%203px%20solid%20white%3B%20box-shadow%3A%200%200%2015px%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20background%200.3s%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.my-hand-area%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%20bottom%3A%200%3B%20left%3A%200%3B%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20240px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient%28to%20top%2C%20rgba%280%2C0%2C0%2C0.9%29%2C%20transparent%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%2020%3B%20display%3A%20flex%3B%20flex-direction%3A%20column%3B%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pointer-events%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20transform%200.3s%20ease%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.my-hand-area.visible%20%7B%20opacity%3A%201%3B%20transition%3A%20opacity%200.5s%3B%20%7D%0A%20%20%20%20%20%20%20%20.my-hand-area.my-turn-active%20.hand-scroll%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale%281.05%29%20translateY%28-10px%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.hand-scroll%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%20justify-content%3A%20center%3B%20align-items%3A%20flex-end%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%20overflow-x%3A%20auto%3B%20overflow-y%3A%20visible%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding-bottom%3A%2020px%3B%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding-left%3A%2020px%3B%20padding-right%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding-top%3A%2060px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pointer-events%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20transform%200.3s%20ease%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.hand-card-wrapper%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-left%3A%20-40px%3B%20transition%3A%20margin%200.3s%2C%20transform%200.3s%3B%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.hand-card-wrapper%3Afirst-child%20%7B%20margin-left%3A%200%3B%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20.hand-card-wrapper.valid-card%20%7B%20transform%3A%20translateY%28-25px%29%3B%20z-index%3A%2010%3B%20%7D%0A%20%20%20%20%20%20%20%20.hand-card-wrapper.valid-card%20.card%20%7B%20box-shadow%3A%200%200%2015px%20%23f1c40f%3B%20border-color%3A%20%23f1c40f%3B%20%7D%0A%20%20%20%20%20%20%20%20.hand-card-wrapper%3Ahover%20%7B%20transform%3A%20translateY%28-50px%29%20scale%281.1%29%3B%20z-index%3A%2020%3B%20margin%3A%200%2015px%3B%20%7D%0A%20%20%20%20%20%20%20%20.hand-card-wrapper.disabled%20%7B%20filter%3A%20grayscale%280.8%29%20brightness%280.6%29%3B%20pointer-events%3A%20none%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.flying-card%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%20z-index%3A%201000%3B%20transition%3A%20all%200.6s%20ease-in-out%3B%20pointer-events%3A%20none%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2080px%3B%20height%3A%20120px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%2010px%2020px%20rgba%280%2C0%2C0%2C0.5%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.projectile-card%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%20top%3A%2050%25%3B%20left%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2060px%3B%20height%3A%2090px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient%28135deg%2C%20%23e17055%2C%20%23d63031%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%202px%20solid%20white%3B%20border-radius%3A%206px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%209999%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translate%28-50%25%2C%20-50%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%205px%2015px%20rgba%280%2C0%2C0%2C0.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.8s%20cubic-bezier%280.25%2C%200.46%2C%200.45%2C%200.94%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.projectile-card%3A%3Aafter%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20content%3A%20%22UNO%22%3B%20position%3A%20absolute%3B%20top%3A50%25%3B%20left%3A50%25%3B%20transform%3Atranslate%28-50%25%2C-50%25%29%20rotate%28-25deg%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20rgba%28255%2C255%2C255%2C0.4%29%3B%20font-weight%3Abold%3B%20font-size%3A14px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%23uno-btn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%20right%3A%2020px%3B%20bottom%3A%20250px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2080px%3B%20height%3A%2080px%3B%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient%28135deg%2C%20%23e17055%2C%20%23d63031%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%204px%20solid%20white%3B%20color%3A%20white%3B%20font-weight%3A%20900%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20none%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%201.5rem%3B%20cursor%3A%20pointer%3B%20box-shadow%3A%200%205px%2015px%20rgba%280%2C0%2C0%2C0.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20pulse%201s%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%2030%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20@keyframes%20pulse%20%7B%200%25%20%7Btransform%3Ascale%281%29%3B%7D%2050%25%20%7Btransform%3Ascale%281.1%29%3B%7D%20100%25%20%7Btransform%3Ascale%281%29%3B%7D%20%7D%0A%0A%20%20%20%20%20%20%20%20%23status-msg%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%20top%3A%2018%25%3B%20left%3A%2050%25%3B%20transform%3A%20translateX%28-50%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%280%2C0%2C0%2C0.8%29%3B%20padding%3A%2010px%2020px%3B%20border-radius%3A%2030px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%201rem%3B%20border%3A%201px%20solid%20rgba%28255%2C255%2C255%2C0.2%29%3B%20opacity%3A%200%3B%20transition%3A%20opacity%200.3s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pointer-events%3A%20none%3B%20z-index%3A%20100%3B%20text-align%3A%20center%3B%20width%3A%2090%25%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20/*%20Controls%20Top%20Right%20*/%0A%20%20%20%20%20%20%20%20.top-controls%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%20right%3A%2020px%3B%20top%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%20gap%3A%2010px%3B%20z-index%3A%2050%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.ctrl-btn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2050px%3B%20height%3A%2050px%3B%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%23444%3B%20color%3A%20white%3B%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%201.2rem%3B%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%202px%20solid%20%23666%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.ctrl-btn%3Aactive%20%7B%20transform%3A%20scale%280.9%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.ctrl-btn.active%20%7B%20background%3A%20var%28--green-uno%29%3B%20border-color%3A%20white%3B%20%7D%0A%20%20%20%20%20%20%20%20.ctrl-btn.muted%20%7B%20background%3A%20var%28--red%29%3B%20border-color%3A%20white%3B%20%7D%0A%20%20%20%20%20%20%20%20.ctrl-btn.sfx-off%20%7B%20background%3A%20%23888%3B%20color%3A%20%23ccc%3B%20border-color%3A%20%23aaa%3B%20text-decoration%3A%20line-through%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.mute-opponent-btn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%200.8rem%3B%20color%3A%20%23ccc%3B%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.mute-opponent-btn.muted%20%7B%20color%3A%20var%28--red%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20/*%20---%20ACTION%20OVERLAY%20%26%20ANIMATIONS%20---%20*/%0A%20%20%20%20%20%20%20%20%23action-overlay%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%20top%3A%2050%25%3B%20left%3A%2050%25%3B%20transform%3A%20translate%28-50%25%2C%20-50%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%20height%3A%20100%25%3B%20pointer-events%3A%20none%3B%20z-index%3A%201500%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.anim-reverse-modern%2C%20.anim-skip-modern%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%20width%3A%20300px%3B%20height%3A%20300px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20popInFade%202s%20ease%20forwards%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.rev-arrow%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%2020px%20solid%20transparent%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-top%3A%2020px%20solid%20var%28--yellow%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20spinRevSmooth%201.5s%20cubic-bezier%280.4%2C%200.0%2C%200.2%2C%201%29%20infinite%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.rev-arrow%3A%3Aafter%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20content%3A%20%27%27%3B%20position%3A%20absolute%3B%20top%3A%20-35px%3B%20right%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%2030px%20solid%20transparent%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-bottom%3A%2040px%20solid%20var%28--yellow%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20rotate%2845deg%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.rev-icon-center%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%20top%3A%2050%25%3B%20left%3A%2050%25%3B%20transform%3A%20translate%28-50%25%2C%20-50%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2080px%3B%20color%3A%20white%3B%20text-shadow%3A%200%200%2020px%20var%28--yellow%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20.anim-skip-modern%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20160px%3B%20height%3A%20160px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20radial-gradient%28circle%2C%20%23ff4757%2C%20%23bd0a22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2050%25%3B%20border%3A%206px%20solid%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%200%2030px%20rgba%28255%2C%2071%2C%2087%2C%200.8%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20elasticScale%200.8s%20cubic-bezier%280.175%2C%200.885%2C%200.32%2C%201.275%29%20forwards%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20transform%200.8s%20ease-in-out%2C%20opacity%200.8s%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.anim-skip-modern%20i%20%7B%20font-size%3A%2080px%3B%20color%3A%20white%3B%20opacity%3A%200.9%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20.anim-draw-text-only%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%20150px%3B%20font-weight%3A%20900%3B%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20%27Fredoka%27%3B%20z-index%3A%2050%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-shadow%3A%200px%200px%2020px%20rgba%280%2C0%2C0%2C0.8%29%2C%204px%204px%200px%20%23000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20textPopFade%202.5s%20ease%20forwards%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20@keyframes%20textPopFade%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%200%25%20%7B%20transform%3A%20scale%280%29%3B%20opacity%3A0%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%2020%25%20%7B%20transform%3A%20scale%281.2%29%3B%20opacity%3A1%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%2040%25%20%7B%20transform%3A%20scale%281%29%3B%20opacity%3A1%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20100%25%20%7B%20transform%3A%20scale%281.5%29%3B%20opacity%3A0%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20@keyframes%20spinRevSmooth%20%7B%200%25%20%7B%20transform%3A%20rotate%280deg%29%3B%20%7D%20100%25%20%7B%20transform%3A%20rotate%28-360deg%29%3B%20%7D%20%7D%0A%20%20%20%20%20%20%20%20@keyframes%20popInFade%20%7B%200%25%20%7B%20opacity%3A%200%3B%20transform%3A%20scale%280.5%29%3B%20%7D%2020%25%20%7B%20opacity%3A%201%3B%20transform%3A%20scale%281.1%29%3B%20%7D%2080%25%20%7B%20opacity%3A%201%3B%20transform%3A%20scale%281%29%3B%20%7D%20100%25%20%7B%20opacity%3A%200%3B%20transform%3A%20scale%280.5%29%3B%20%7D%20%7D%0A%20%20%20%20%20%20%20%20@keyframes%20elasticScale%20%7B%200%25%20%7B%20transform%3A%20scale%280%29%3B%20%7D%2060%25%20%7B%20transform%3A%20scale%281.2%29%3B%20%7D%20100%25%20%7B%20transform%3A%20scale%281%29%3B%20%7D%20%7D%0A%0A%20%20%20%20%20%20%20%20%23modal-color%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%20top%3A%200%3B%20left%3A%200%3B%20width%3A%20100%25%3B%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%280%2C0%2C0%2C0.9%29%3B%20z-index%3A%202000%3B%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.color-wheel%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20300px%3B%20height%3A%20300px%3B%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%208px%20solid%20white%3B%20box-shadow%3A%200%200%2030px%20rgba%280%2C0%2C0%2C0.8%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20wheelIn%200.5s%20ease-out%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.cw-sec%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%20width%3A%2050%25%3B%20height%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%20transition%3A%200.2s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.cw-sec%3Ahover%20%7B%20filter%3A%20brightness%281.2%29%3B%20%7D%0A%20%20%20%20%20%20%20%20.cw-tl%20%7B%20top%3A%200%3B%20left%3A%200%3B%20background%3A%20var%28--red%29%3B%20border-bottom-right-radius%3A%20100%25%3B%20%7D%0A%20%20%20%20%20%20%20%20.cw-tr%20%7B%20top%3A%200%3B%20right%3A%200%3B%20background%3A%20var%28--blue%29%3B%20border-bottom-left-radius%3A%20100%25%3B%20%7D%0A%20%20%20%20%20%20%20%20.cw-bl%20%7B%20bottom%3A%200%3B%20left%3A%200%3B%20background%3A%20var%28--yellow%29%3B%20border-top-right-radius%3A%20100%25%3B%20%7D%0A%20%20%20%20%20%20%20%20.cw-br%20%7B%20bottom%3A%200%3B%20right%3A%200%3B%20background%3A%20var%28--green-uno%29%3B%20border-top-left-radius%3A%20100%25%3B%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20.cw-center%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%20top%3A%2050%25%3B%20left%3A%2050%25%3B%20transform%3A%20translate%28-50%25%2C%20-50%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2080px%3B%20height%3A%2080px%3B%20background%3A%20white%3B%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%205%3B%20display%3A%20flex%3B%20align-items%3A%20center%3B%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2050px%3B%20font-weight%3A%20bold%3B%20color%3A%20%23333%3B%20font-family%3A%20%27Fredoka%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%23screen-winner%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20radial-gradient%28circle%20at%20center%2C%20%232b1010%2C%20%23000000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%203000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow-y%3A%20auto%3B%20/*%20Prevent%20cut-off%20on%20small%20screens%20*/%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2020px%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.win-cup%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%20150px%3B%20color%3A%20gold%3B%20margin-bottom%3A%2020px%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20bounce%202s%20infinite%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20filter%3A%20drop-shadow%280%200%2030px%20rgba%28255%2C%20215%2C%200%2C%200.6%29%29%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.win-text%20%7B%20font-size%3A%203rem%3B%20color%3A%20white%3B%20font-family%3A%20%27Fredoka%27%3B%20margin%3A%2010px%200%3B%20text-align%3A%20center%3B%20%7D%0A%20%20%20%20%20%20%20%20.win-name%20%7B%20font-size%3A%204rem%3B%20color%3A%20var%28--green-uno%29%3B%20font-weight%3A%20bold%3B%20text-shadow%3A%200%200%2010px%20var%28--green-uno%29%3B%20margin-bottom%3A%2030px%3B%20%7D%0A%20%20%20%20%20%20%20%20.win-btn-container%20%7B%20display%3A%20flex%3B%20gap%3A%2020px%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20/*%20---%20FIXED%3A%20MOBILE%20RESPONSIVE%20WINNER%20SCREEN%20---%20*/%0A%20%20%20%20%20%20%20%20@media%20%28max-width%3A%20600px%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20.win-cup%20%7B%20font-size%3A%2080px%3B%20margin-bottom%3A%2010px%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20.win-text%20%7B%20font-size%3A%202rem%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20.win-name%20%7B%20font-size%3A%202.5rem%3B%20margin-bottom%3A%2020px%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20.win-btn-container%20%7B%20flex-direction%3A%20column%3B%20width%3A%2080%25%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20.win-btn-container%20.btn%20%7B%20width%3A%20100%25%3B%20margin%3A%205px%200%3B%20min-width%3A%20auto%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20.main-logo%20%7B%20font-size%3A%204rem%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%23rematch-timer%20%7B%20font-size%3A%201.5rem%3B%20color%3A%20var%28--yellow%29%3B%20margin-bottom%3A%2010px%3B%20font-weight%3A%20bold%3B%20%7D%0A%20%20%20%20%20%20%20%20%23rematch-status%20%7B%20font-size%3A%201rem%3B%20color%3A%20%23ccc%3B%20margin-bottom%3A%2020px%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20/*%20Negotiation%20Modal%20*/%0A%20%20%20%20%20%20%20%20%23screen-rematch-negotiation%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba%280%2C0%2C0%2C0.98%29%3B%20z-index%3A%203100%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20@keyframes%20bounce%20%7B%200%25%2C%2020%25%2C%2050%25%2C%2080%25%2C%20100%25%20%7Btransform%3A%20translateY%280%29%3B%7D%2040%25%20%7Btransform%3A%20translateY%28-30px%29%3B%7D%2060%25%20%7Btransform%3A%20translateY%28-15px%29%3B%7D%20%7D%0A%20%20%20%20%20%20%20%20@keyframes%20wheelIn%20%7B%20from%20%7B%20transform%3A%20scale%280%29%20rotate%28-180deg%29%3B%20%7D%20to%20%7B%20transform%3A%20scale%281%29%20rotate%280deg%29%3B%20%7D%20%7D%0A%0A%20%20%20%20%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%0A%20%20%20%20%3Cdiv%20id%3D%22action-overlay%22%3E%3C/div%3E%0A%0A%20%20%20%20%3C%21--%20MAIN%20MENU%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22screen-menu%22%20class%3D%22screen%20active%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22glass-panel%22%20style%3D%22padding%3A%2040px%3B%20border-radius%3A%2030px%3B%20width%3A%2090%25%3B%20max-width%3A%20500px%3B%20display%3Aflex%3B%20flex-direction%3Acolumn%3B%20align-items%3Acenter%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22main-logo%22%3EUNO%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20style%3D%22font-size%3A%201.2rem%3B%20color%3A%20%23eee%3B%20margin-top%3A%20-10px%3B%20margin-bottom%3A%2030px%3B%22%3Eoffline%20and%20online%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20id%3D%22my-name%22%20placeholder%3D%22%u0986%u09AA%u09A8%u09BE%u09B0%20%u09A8%u09BE%u09AE%20%u09B2%u09BF%u0996%u09C1%u09A8%20%28Required%29%22%20value%3D%22%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22btn%20btn-bot%22%20onclick%3D%22showBotSetup%28%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-robot%22%3E%3C/i%3E%20Play%20with%20Bot%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22btn%20btn-friends%22%20onclick%3D%22showFriendsSelection%28%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-users%22%3E%3C/i%3E%20Play%20with%20Friends%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3C%21--%20PLAY%20WITH%20FRIENDS%20SELECTION%20SCREEN%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22screen-friends-selection%22%20class%3D%22screen%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22glass-panel%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20style%3D%22color%3Avar%28--blue%29%3B%20font-size%3A2.5rem%3B%20margin-bottom%3A10px%3B%22%3EPlay%20with%20Friends%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20style%3D%22margin-bottom%3A30px%3B%20color%3A%23ddd%3B%22%3EChoose%20an%20option%20to%20start%3A%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22btn%20btn-primary%22%20onclick%3D%22createGame%28%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-plus-circle%22%3E%3C/i%3E%20Create%20Room%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22btn%20btn-success%22%20onclick%3D%22showJoinScreen%28%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-sign-in-alt%22%3E%3C/i%3E%20Join%20Room%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22btn%20btn-danger%22%20onclick%3D%22hideAll%28%29%3B%20show%28%27screen-menu%27%29%22%20style%3D%22margin-top%3A%2030px%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-arrow-left%22%3E%3C/i%3E%20Back%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3C%21--%20BOT%20SETUP%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22screen-bot-setup%22%20class%3D%22screen%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22glass-panel%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20style%3D%22font-size%3A%202.2rem%3B%20color%3A%20var%28--yellow%29%3B%22%3EBot%20Setup%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22bot-setup-container%22%20style%3D%22text-align%3A%20center%3B%20margin-top%3A%2020px%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22display%3Ablock%3B%20margin-bottom%3A10px%3B%20font-weight%3Abold%3B%22%3EBot%20%u09B8%u0982%u0996%u09CD%u09AF%u09BE%20%28Number%20of%20Bots%29%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cselect%20id%3D%22bot-count%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%221%22%3E1%20Bot%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%222%22%3E2%20Bots%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%223%22%20selected%3E3%20Bots%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/select%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20style%3D%22display%3Ablock%3B%20margin-bottom%3A10px%3B%20font-weight%3Abold%3B%20margin-top%3A15px%3B%22%3E%u0995%u09A0%u09BF%u09A8%u09A4%u09BE%u09B0%20%u09B8%u09CD%u09A4%u09B0%20%28Difficulty%29%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cselect%20id%3D%22bot-difficulty%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22easy%22%3EEasy%20%28%u09B8%u09B9%u099C%29%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22medium%22%3EMedium%20%28%u09AE%u09BE%u099D%u09BE%u09B0%u09BF%29%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22hard%22%3EHard%20%28%u0996%u09C1%u09AC%20%u0995%u09A0%u09BF%u09A8%29%3C/option%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/select%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin-top%3A30px%3B%20display%3Aflex%3B%20flex-direction%3Acolumn%3B%20align-items%3Acenter%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22btn%20btn-warning%22%20onclick%3D%22startBotGame%28%29%22%3E%3Ci%20class%3D%22fas%20fa-play%22%3E%3C/i%3E%20Start%20Game%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22btn%20btn-danger%22%20onclick%3D%22hideAll%28%29%3B%20show%28%27screen-menu%27%29%22%3E%3Ci%20class%3D%22fas%20fa-arrow-left%22%3E%3C/i%3E%20Back%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3C%21--%20JOIN%20SCREEN%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22screen-join%22%20class%3D%22screen%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22glass-panel%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20style%3D%22color%3Avar%28--green-uno%29%3B%20font-size%3A2.2rem%3B%22%3EJoin%20Room%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20style%3D%22margin-bottom%3A20px%3B%22%3EEnter%20the%20Host%27s%20Room%20Code%20below%3A%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20id%3D%22join-code%22%20placeholder%3D%22Paste%20Code%20Here%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22btn%20btn-success%22%20onclick%3D%22joinGame%28%29%22%3E%3Ci%20class%3D%22fas%20fa-check-circle%22%3E%3C/i%3E%20Enter%20Room%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22btn%20btn-danger%22%20onclick%3D%22showFriendsSelection%28%29%22%3E%3Ci%20class%3D%22fas%20fa-times%22%3E%3C/i%3E%20Cancel%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3C%21--%20LOBBY%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22screen-lobby%22%20class%3D%22screen%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22glass-panel%22%20style%3D%22width%3A%2090%25%3B%20max-width%3A%20500px%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20style%3D%22margin-top%3A0%3B%22%3EGame%20Lobby%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22background%3Argba%280%2C0%2C0%2C0.3%29%3B%20padding%3A15px%3B%20border-radius%3A15px%3B%20margin-bottom%3A20px%3B%20border%3A1px%20solid%20rgba%28255%2C255%2C255%2C0.1%29%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20style%3D%22color%3A%23aaa%3B%20font-size%3A0.9rem%3B%20text-transform%3Auppercase%3B%20letter-spacing%3A1px%3B%22%3ERoom%20Code%3C/span%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch1%20id%3D%22lobby-code-display%22%20style%3D%22margin%3A5px%200%3B%20letter-spacing%3A3px%3B%20color%3Avar%28--blue%29%3B%20font-size%3A2rem%3B%20user-select%3Atext%3B%22%3E...%3C/h1%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%20style%3D%22text-align%3Aleft%3B%20margin-left%3A10px%3B%20color%3A%23ddd%3B%22%3EPlayers%20Joined%3A%3C/h3%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22lobby-players%22%20style%3D%22width%3A100%25%3B%20text-align%3Aleft%3B%20max-height%3A%20200px%3B%20overflow-y%3Aauto%3B%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22start-btn%22%20class%3D%22btn%20btn-primary%22%20style%3D%22display%3Anone%3B%20margin-top%3A30px%3B%20width%3A100%25%3B%22%20onclick%3D%22startGameHost%28%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-play%22%3E%3C/i%3E%20Start%20Game%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3C%21--%20WINNER%20SCREEN%20WITH%20REMATCH%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22screen-winner%22%20class%3D%22screen%22%3E%0A%20%20%20%20%20%20%20%20%3Ci%20class%3D%22fas%20fa-trophy%20win-cup%22%3E%3C/i%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22win-text%22%3EWinner%21%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22winner-name%22%20class%3D%22win-name%22%3EPlayer%20Name%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22rematch-timer%22%20style%3D%22display%3Anone%3B%22%3ETime%3A%2010s%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22rematch-status%22%20style%3D%22display%3Anone%3B%22%3EWaiting%20for%20players...%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22win-btn-container%22%20id%3D%22win-buttons%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22btn%20btn-secondary%22%20onclick%3D%22goHome%28%29%22%3E%3Ci%20class%3D%22fas%20fa-home%22%3E%3C/i%3E%20Home%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22btn%20btn-primary%22%20onclick%3D%22requestRematch%28%29%22%3E%3Ci%20class%3D%22fas%20fa-redo%22%3E%3C/i%3E%20Play%20Again%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3C%21--%20REMATCH%20NEGOTIATION%20SCREEN%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22screen-rematch-negotiation%22%20class%3D%22screen%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22glass-panel%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch2%20style%3D%22color%3Avar%28--red%29%3B%20font-size%3A2rem%3B%20margin-bottom%3A20px%3B%22%3E%3Ci%20class%3D%22fas%20fa-exclamation-triangle%22%3E%3C/i%3E%20Player%20Left%21%3C/h2%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20id%3D%22negotiation-msg%22%20style%3D%22font-size%3A1.2rem%3B%20margin%3A20px%3B%20font-weight%3Abold%3B%22%3EX%20will%20not%20play.%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%20style%3D%22color%3A%23aaa%3B%22%3EDo%20you%20want%20to%20play%20with%20remaining%20players%3F%3C/p%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22win-btn-container%22%20style%3D%22justify-content%3A%20center%3B%20margin-top%3A30px%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22btn%20btn-danger%22%20onclick%3D%22goHome%28%29%22%3ENo%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22btn%20btn-success%22%20onclick%3D%22agreeToReducedGame%28%29%22%3EYes%3C/button%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3C%21--%20GAME%20BOARD%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22screen-game%22%20class%3D%22screen%22%20style%3D%22background%3Atransparent%3B%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22game-area%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22top-controls%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22sfx-btn%22%20onclick%3D%22toggleSfx%28%29%22%20class%3D%22ctrl-btn%22%3E%3Ci%20class%3D%22fas%20fa-music%22%3E%3C/i%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22mic-btn%22%20onclick%3D%22toggleMic%28%29%22%20class%3D%22ctrl-btn%20muted%22%3E%3Ci%20class%3D%22fas%20fa-microphone-slash%22%3E%3C/i%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22seat-top%22%20class%3D%22seat%20seat-top%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22seat-left%22%20class%3D%22seat%20seat-left%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22seat-right%22%20class%3D%22seat%20seat-right%22%3E%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22direction-spin%22%20id%3D%22dir-spinner%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%21--%20WHO%20GOES%20FIRST%20SPINNER%20--%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22starter-arrow-container%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22starter-arrow%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22status-msg%22%3EGame%20Started%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22table-center%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22card%20deck-pile%22%20id%3D%22draw-pile%22%20onclick%3D%22drawCardReq%28%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22pile-slot%22%20id%3D%22discard-pile%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22color-bubble%22%20id%3D%22active-color-bubble%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22uno-btn%22%20onclick%3D%22sayUno%28%29%22%3EUNO%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22my-hand-area%22%20id%3D%22my-hand-area-container%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20style%3D%22margin-bottom%3A%205px%3B%20color%3A%20%23ccc%3B%22%20id%3D%22turn-indicator%22%3E%u0985%u09AA%u09C7%u0995%u09CD%u09B7%u09BE%20%u0995%u09B0%u09C1%u09A8...%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22hand-scroll%22%20id%3D%22my-hand%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20id%3D%22modal-color%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22color-wheel%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22cw-sec%20cw-tl%22%20onclick%3D%22selectColor%28%27red%27%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22cw-sec%20cw-tr%22%20onclick%3D%22selectColor%28%27blue%27%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22cw-sec%20cw-bl%22%20onclick%3D%22selectColor%28%27yellow%27%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22cw-sec%20cw-br%22%20onclick%3D%22selectColor%28%27green%27%29%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22cw-center%22%3E%3F%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20id%3D%22audio-container%22%20style%3D%22display%3Anone%3B%22%3E%3C/div%3E%0A%0A%20%20%20%20%3Cscript%3E%0A%20%20%20%20%20%20%20%20//%20---%20GAME%20LOGIC%20---%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20const%20COLORS%20%3D%20%5B%27red%27%2C%20%27blue%27%2C%20%27green%27%2C%20%27yellow%27%5D%3B%0A%20%20%20%20%20%20%20%20const%20SPECIALS%20%3D%20%5B%27skip%27%2C%20%27reverse%27%2C%20%27draw2%27%5D%3B%0A%20%20%20%20%20%20%20%20let%20peer%2C%20conn%2C%20myId%2C%20myName%2C%20isHost%20%3D%20false%2C%20isBotMode%20%3D%20false%2C%20botDifficulty%20%3D%20%27medium%27%2C%20hostConnections%20%3D%20%5B%5D%3B%20%0A%20%20%20%20%20%20%20%20let%20localStream%20%3D%20null%2C%20peerCalls%20%3D%20%7B%7D%2C%20isMicOn%20%3D%20false%2C%20micPermissionGranted%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20let%20gameState%20%3D%20%7B%20players%3A%20%5B%5D%2C%20deck%3A%20%5B%5D%2C%20discard%3A%20%5B%5D%2C%20turnIdx%3A%200%2C%20direction%3A%201%2C%20activeColor%3A%20null%2C%20activeValue%3A%20null%2C%20gameStatus%3A%20%27lobby%27%2C%20winner%3A%20null%20%7D%3B%0A%20%20%20%20%20%20%20%20let%20myHand%20%3D%20%5B%5D%2C%20serverHands%20%3D%20%7B%7D%2C%20pendingPlay%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20turnHintTimeout%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20isSfxOn%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20//%20Rematch%20Variables%0A%20%20%20%20%20%20%20%20let%20rematchVotes%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20let%20rematchTimerInt%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20waitingForReducedGame%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20const%20audioCtx%20%3D%20new%20%28window.AudioContext%20%7C%7C%20window.webkitAudioContext%29%28%29%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20playSound%28type%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28%21isSfxOn%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28audioCtx.state%20%3D%3D%3D%20%27suspended%27%29%20audioCtx.resume%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20t%20%3D%20audioCtx.currentTime%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28type%20%3D%3D%3D%20%27throw%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20bufferSize%20%3D%20audioCtx.sampleRate%20*%200.1%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20buffer%20%3D%20audioCtx.createBuffer%281%2C%20bufferSize%2C%20audioCtx.sampleRate%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20data%20%3D%20buffer.getChannelData%280%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%20bufferSize%3B%20i++%29%20data%5Bi%5D%20%3D%20Math.random%28%29%20*%202%20-%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20src%20%3D%20audioCtx.createBufferSource%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20src.buffer%20%3D%20buffer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20filter%20%3D%20audioCtx.createBiquadFilter%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20filter.type%20%3D%20%27lowpass%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20filter.frequency.setValueAtTime%28800%2C%20t%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20filter.frequency.exponentialRampToValueAtTime%28100%2C%20t%20+%200.1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20gain%20%3D%20audioCtx.createGain%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gain.gain.setValueAtTime%280.5%2C%20t%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gain.gain.exponentialRampToValueAtTime%280.01%2C%20t%20+%200.1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20src.connect%28filter%29%3B%20filter.connect%28gain%29%3B%20gain.connect%28audioCtx.destination%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20src.start%28t%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28type%20%3D%3D%3D%20%27draw%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20bufferSize%20%3D%20audioCtx.sampleRate%20*%200.2%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20buffer%20%3D%20audioCtx.createBuffer%281%2C%20bufferSize%2C%20audioCtx.sampleRate%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20data%20%3D%20buffer.getChannelData%280%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%20bufferSize%3B%20i++%29%20data%5Bi%5D%20%3D%20Math.random%28%29%20*%202%20-%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20src%20%3D%20audioCtx.createBufferSource%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20src.buffer%20%3D%20buffer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20filter%20%3D%20audioCtx.createBiquadFilter%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20filter.type%20%3D%20%27bandpass%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20filter.frequency.setValueAtTime%281200%2C%20t%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20gain%20%3D%20audioCtx.createGain%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gain.gain.setValueAtTime%280.05%2C%20t%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gain.gain.linearRampToValueAtTime%280.1%2C%20t%20+%200.1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gain.gain.linearRampToValueAtTime%280.0%2C%20t%20+%200.2%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20src.connect%28filter%29%3B%20filter.connect%28gain%29%3B%20gain.connect%28audioCtx.destination%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20src.start%28t%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28type%20%3D%3D%3D%20%27uno%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20osc%20%3D%20audioCtx.createOscillator%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20gain%20%3D%20audioCtx.createGain%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20osc.type%20%3D%20%27sine%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20osc.frequency.setValueAtTime%28523.25%2C%20t%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20osc.frequency.exponentialRampToValueAtTime%281046.5%2C%20t%20+%200.1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gain.gain.setValueAtTime%280.3%2C%20t%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gain.gain.exponentialRampToValueAtTime%280.01%2C%20t%20+%201.0%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20osc.connect%28gain%29%3B%20gain.connect%28audioCtx.destination%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20osc.start%28t%29%3B%20osc.stop%28t%20+%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28type%20%3D%3D%3D%20%27win%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B523.25%2C%20659.25%2C%20783.99%2C%201046.50%5D.forEach%28%28freq%2C%20i%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20osc%20%3D%20audioCtx.createOscillator%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20gain%20%3D%20audioCtx.createGain%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20osc.type%20%3D%20%27triangle%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20osc.frequency.value%20%3D%20freq%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gain.gain.setValueAtTime%280%2C%20t%20+%20i*0.1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gain.gain.linearRampToValueAtTime%280.2%2C%20t%20+%20i*0.1%20+%200.05%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gain.gain.exponentialRampToValueAtTime%280.01%2C%20t%20+%20i*0.1%20+%201.5%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20osc.connect%28gain%29%3B%20gain.connect%28audioCtx.destination%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20osc.start%28t%20+%20i*0.1%29%3B%20osc.stop%28t%20+%20i*0.1%20+%202%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20const%20%24%20%3D%20id%20%3D%3E%20document.getElementById%28id%29%3B%0A%20%20%20%20%20%20%20%20const%20hideAll%20%3D%20%28%29%20%3D%3E%20document.querySelectorAll%28%27.screen%27%29.forEach%28el%20%3D%3E%20el.classList.remove%28%27active%27%29%29%3B%0A%20%20%20%20%20%20%20%20const%20show%20%3D%20id%20%3D%3E%20%24%28id%29.classList.add%28%27active%27%29%3B%0A%20%20%20%20%20%20%20%20const%20toast%20%3D%20%28msg%29%20%3D%3E%20%7B%20const%20el%20%3D%20%24%28%27status-msg%27%29%3B%20el.innerText%20%3D%20msg%3B%20el.style.opacity%20%3D%201%3B%20setTimeout%28%28%29%20%3D%3E%20el.style.opacity%20%3D%200%2C%203000%29%3B%20%7D%3B%0A%20%20%20%20%20%20%20%20const%20delay%20%3D%20ms%20%3D%3E%20new%20Promise%28res%20%3D%3E%20setTimeout%28res%2C%20ms%29%29%3B%0A%0A%20%20%20%20%20%20%20%20function%20toggleSfx%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20isSfxOn%20%3D%20%21isSfxOn%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20btn%20%3D%20%24%28%27sfx-btn%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20btn.className%20%3D%20isSfxOn%20%3F%20%27ctrl-btn%27%20%3A%20%27ctrl-btn%20sfx-off%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20btn.innerHTML%20%3D%20isSfxOn%20%3F%20%27%3Ci%20class%3D%22fas%20fa-music%22%3E%3C/i%3E%27%20%3A%20%27%3Ci%20class%3D%22fas%20fa-slash%22%3E%3C/i%3E%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20startTurnTimer%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearDrawHint%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20hasPlayable%20%3D%20myHand.some%28c%20%3D%3E%20c.color%20%3D%3D%3D%20%27black%27%20%7C%7C%20c.color%20%3D%3D%3D%20gameState.activeColor%20%7C%7C%20c.value%20%3D%3D%3D%20gameState.activeValue%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21hasPlayable%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20turnHintTimeout%20%3D%20setTimeout%28%28%29%20%3D%3E%20%7B%20%24%28%27draw-pile%27%29.classList.add%28%27hint-active%27%29%3B%20%7D%2C%203000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20clearDrawHint%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28turnHintTimeout%29%20clearTimeout%28turnHintTimeout%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27draw-pile%27%29.classList.remove%28%27hint-active%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20async%20function%20setupAudio%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%20localStream%20%3D%20await%20navigator.mediaDevices.getUserMedia%28%7B%20audio%3A%20true%2C%20video%3A%20false%20%7D%29%3B%20localStream.getAudioTracks%28%29%5B0%5D.enabled%20%3D%20false%3B%20isMicOn%20%3D%20false%3B%20micPermissionGranted%20%3D%20true%3B%20updateMicBtn%28%29%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20catch%20%28err%29%20%7B%20micPermissionGranted%20%3D%20false%3B%20const%20btn%20%3D%20%24%28%27mic-btn%27%29%3B%20btn.style.opacity%20%3D%20%270.5%27%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20toggleMic%28%29%20%7B%20if%20%28%21localStream%20%7C%7C%20%21micPermissionGranted%29%20return%3B%20isMicOn%20%3D%20%21isMicOn%3B%20localStream.getAudioTracks%28%29%5B0%5D.enabled%20%3D%20isMicOn%3B%20updateMicBtn%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20function%20updateMicBtn%28%29%20%7B%20const%20btn%20%3D%20%24%28%27mic-btn%27%29%3B%20btn.className%20%3D%20isMicOn%20%3F%20%27ctrl-btn%20active%27%20%3A%20%27ctrl-btn%20muted%27%3B%20btn.innerHTML%20%3D%20isMicOn%20%3F%20%27%3Ci%20class%3D%22fas%20fa-microphone%22%3E%3C/i%3E%27%20%3A%20%27%3Ci%20class%3D%22fas%20fa-microphone-slash%22%3E%3C/i%3E%27%3B%20%7D%0A%20%20%20%20%20%20%20%20function%20toggleOpponentMute%28peerId%2C%20btnElement%29%20%7B%20const%20audioEl%20%3D%20document.getElementById%28%60audio-%24%7BpeerId%7D%60%29%3B%20if%28audioEl%29%20%7B%20audioEl.muted%20%3D%20%21audioEl.muted%3B%20btnElement.className%20%3D%20%60mute-opponent-btn%20%24%7BaudioEl.muted%20%3F%20%27muted%27%20%3A%20%27%27%7D%60%3B%20btnElement.innerHTML%20%3D%20audioEl.muted%20%3F%20%27%3Ci%20class%3D%22fas%20fa-volume-mute%22%3E%3C/i%3E%27%20%3A%20%27%3Ci%20class%3D%22fas%20fa-volume-up%22%3E%3C/i%3E%27%3B%20%7D%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20initPeer%28callback%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20id%20%3D%20Math.floor%281000%20+%20Math.random%28%29%20*%209000%29.toString%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20peer%20%3D%20new%20Peer%28id%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20peer.on%28%27open%27%2C%20%28id%29%20%3D%3E%20%7B%20myId%20%3D%20id%3B%20if%28callback%29%20callback%28id%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20peer.on%28%27connection%27%2C%20%28c%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c.on%28%27data%27%2C%20%28data%29%20%3D%3E%20%7B%20isHost%20%3F%20handleHostData%28c%2C%20data%29%20%3A%20handleClientData%28data%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28isHost%29%20%7B%20hostConnections.push%28c%29%3B%20c.on%28%27open%27%2C%20%28%29%20%3D%3E%20%7B%20c.send%28%7B%20type%3A%20%27STATE%27%2C%20state%3A%20gameState%20%7D%29%3B%20if%28localStream%29%20%7B%20const%20call%20%3D%20peer.call%28c.peer%2C%20localStream%29%3B%20handleMediaCall%28call%29%3B%20%7D%20%7D%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20peer.on%28%27call%27%2C%20%28call%29%20%3D%3E%20%7B%20localStream%20%3F%20call.answer%28localStream%29%20%3A%20call.answer%28%29%3B%20handleMediaCall%28call%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20handleMediaCall%28call%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20peerCalls%5Bcall.peer%5D%20%3D%20call%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20call.on%28%27stream%27%2C%20%28remoteStream%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%21document.getElementById%28%60audio-%24%7Bcall.peer%7D%60%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20audio%20%3D%20document.createElement%28%27audio%27%29%3B%20audio.id%20%3D%20%60audio-%24%7Bcall.peer%7D%60%3B%20audio.srcObject%20%3D%20remoteStream%3B%20audio.autoplay%20%3D%20true%3B%20%24%28%27audio-container%27%29.appendChild%28audio%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20---%20NEW%3A%20NAME%20VALIDATION%20%26%20STORAGE%20---%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20window.addEventListener%28%27DOMContentLoaded%27%2C%20%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20savedName%20%3D%20localStorage.getItem%28%27uno_player_name%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28savedName%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27my-name%27%29.value%20%3D%20savedName%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20function%20validateAndSaveName%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20nameInput%20%3D%20document.getElementById%28%27my-name%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20name%20%3D%20nameInput.value.trim%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21name%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert%28%22%u09A6%u09DF%u09BE%20%u0995%u09B0%u09C7%20%u0986%u09AA%u09A8%u09BE%u09B0%20%u09A8%u09BE%u09AE%20%u09B2%u09BF%u0996%u09C1%u09A8%20%28Please%20enter%20your%20name%20first%29.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nameInput.focus%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nameInput.style.borderColor%20%3D%20%22red%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28%27uno_player_name%27%2C%20name%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20nameInput.style.borderColor%20%3D%20%22rgba%28255%2C255%2C255%2C0.3%29%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20---%20MENU%20FUNCTIONS%20%28UPDATED%29%20---%0A%20%20%20%20%20%20%20%20function%20showBotSetup%28%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28%21validateAndSaveName%28%29%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20hideAll%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20show%28%27screen-bot-setup%27%29%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20showFriendsSelection%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28%21validateAndSaveName%28%29%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20hideAll%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20show%28%27screen-friends-selection%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20async%20function%20createGame%28%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28%21validateAndSaveName%28%29%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20await%20setupAudio%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20myName%20%3D%20%24%28%27my-name%27%29.value%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20isHost%20%3D%20true%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20initPeer%28%28id%29%20%3D%3E%20%7B%20gameState.players.push%28%7B%20id%3A%20id%2C%20name%3A%20myName%2C%20handCount%3A%200%2C%20isBot%3A%20false%20%7D%29%3B%20hideAll%28%29%3B%20show%28%27screen-lobby%27%29%3B%20%24%28%27lobby-code-display%27%29.innerText%20%3D%20id%3B%20renderLobby%28%29%3B%20%7D%29%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20async%20function%20showJoinScreen%28%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28%21validateAndSaveName%28%29%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20await%20setupAudio%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20myName%20%3D%20%24%28%27my-name%27%29.value%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20hideAll%28%29%3B%20show%28%27screen-join%27%29%3B%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20joinGame%28%29%20%7B%20const%20code%20%3D%20%24%28%27join-code%27%29.value%3B%20if%28%21code%29%20return%3B%20isHost%20%3D%20false%3B%20initPeer%28%28%29%20%3D%3E%20%7B%20conn%20%3D%20peer.connect%28code%29%3B%20conn.on%28%27open%27%2C%20%28%29%20%3D%3E%20%7B%20conn.send%28%7B%20type%3A%20%27JOIN%27%2C%20name%3A%20myName%20%7D%29%3B%20if%28localStream%29%20peer.call%28code%2C%20localStream%29%3B%20hideAll%28%29%3B%20show%28%27screen-lobby%27%29%3B%20%7D%29%3B%20conn.on%28%27data%27%2C%20%28data%29%20%3D%3E%20handleClientData%28data%29%29%3B%20%7D%29%3B%20%7D%0A%20%20%20%20%20%20%20%20function%20startBotGame%28%29%20%7B%20myName%20%3D%20%24%28%27my-name%27%29.value%3B%20let%20count%20%3D%20parseInt%28%24%28%27bot-count%27%29.value%29%3B%20botDifficulty%20%3D%20%24%28%27bot-difficulty%27%29.value%3B%20isHost%20%3D%20true%3B%20isBotMode%20%3D%20true%3B%20myId%20%3D%20%22human%22%3B%20gameState.players%20%3D%20%5B%7B%20id%3A%20myId%2C%20name%3A%20myName%2C%20handCount%3A%200%2C%20isBot%3A%20false%20%7D%5D%3B%20for%28let%20i%3D1%3B%20i%3C%3Dcount%3B%20i++%29%20gameState.players.push%28%7B%20id%3A%20%60bot-%24%7Bi%7D%60%2C%20name%3A%20%60Bot%20%24%7Bi%7D%60%2C%20handCount%3A%200%2C%20isBot%3A%20true%20%7D%29%3B%20hideAll%28%29%3B%20show%28%27screen-game%27%29%3B%20startGameHost%28%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20handleHostData%28conn%2C%20data%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27JOIN%27%29%20%7B%20if%28gameState.gameStatus%20%21%3D%3D%20%27lobby%27%29%20return%3B%20gameState.players.push%28%7B%20id%3A%20conn.peer%2C%20name%3A%20data.name%2C%20handCount%3A%200%2C%20isBot%3A%20false%20%7D%29%3B%20broadcastState%28%29%3B%20broadcastPeerList%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27PLAY_CARD%27%29%20processPlayCard%28conn.peer%2C%20data.cardIdx%2C%20data.wildColor%2C%20data.unoCalled%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27DRAW_CARD%27%29%20processDrawCard%28conn.peer%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Rematch%20Logic%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27VOTE_REMATCH%27%29%20handleRematchVote%28conn.peer%2C%20data.val%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27VOTE_REDUCED%27%29%20handleReducedVote%28conn.peer%2C%20data.val%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27PLAYER_LEAVING%27%29%20removePlayer%28conn.peer%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20broadcastPeerList%28%29%20%7B%20if%28%21isBotMode%29%20hostConnections.forEach%28c%20%3D%3E%20c.send%28%7B%20type%3A%20%27PEER_LIST%27%2C%20peers%3A%20gameState.players.map%28p%3D%3Ep.id%29%20%7D%29%29%3B%20%7D%0A%20%20%20%20%20%20%20%20function%20connectToNewPeers%28list%29%20%7B%20list.forEach%28pid%20%3D%3E%20%7B%20if%28pid%20%21%3D%3D%20myId%20%26%26%20%21peerCalls%5Bpid%5D%20%26%26%20localStream%29%20handleMediaCall%28peer.call%28pid%2C%20localStream%29%29%3B%20%7D%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20async%20function%20startGameHost%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20createDeck%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gameState.players.forEach%28p%20%3D%3E%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20serverHands%5Bp.id%5D%20%3D%20%5B%5D%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20startCard%3B%20while%28true%29%20%7B%20let%20idx%20%3D%20gameState.deck.findIndex%28c%20%3D%3E%20c.color%20%21%3D%3D%20%27black%27%20%26%26%20typeof%20c.value%20%3D%3D%3D%20%27number%27%29%3B%20if%28idx%20%21%3D%3D%20-1%29%20%7B%20startCard%20%3D%20gameState.deck.splice%28idx%2C%201%29%5B0%5D%3B%20break%3B%20%7D%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20gameState.discard%20%3D%20%5BstartCard%5D%3B%20gameState.activeColor%20%3D%20startCard.color%3B%20gameState.activeValue%20%3D%20startCard.value%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20gameState.direction%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gameState.winner%20%3D%20null%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20gameState.turnIdx%20%3D%20Math.floor%28Math.random%28%29%20*%20gameState.players.length%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gameState.gameStatus%20%3D%20%27dealing%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20broadcastState%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20await%20performDealingSequence%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20await%20performFirstPlayerSpin%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20gameState.gameStatus%20%3D%20%27playing%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20broadcastState%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20checkBotTurn%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20async%20function%20performDealingSequence%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20r%3D0%3B%20r%3C7%3B%20r++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D0%3B%20i%3CgameState.players.length%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20pid%20%3D%20gameState.players%5Bi%5D.id%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20card%20%3D%20gameState.deck.pop%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20serverHands%5Bpid%5D.push%28card%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20broadcastDrawAnimation%28pid%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20delay%28150%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20gameState.players.forEach%28p%20%3D%3E%20p.handCount%20%3D%207%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28isBotMode%29%20%7B%20myHand%20%3D%20serverHands%5BmyId%5D%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20distributeHandsToClients%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20broadcastShowHands%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20await%20delay%28500%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20async%20function%20performFirstPlayerSpin%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20targetPid%20%3D%20gameState.players%5BgameState.turnIdx%5D.id%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20msg%20%3D%20%7B%20type%3A%20%27SPIN_TO_START%27%2C%20targetId%3A%20targetPid%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28isBotMode%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20handleSpinAnimation%28targetPid%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hostConnections.forEach%28c%20%3D%3E%20c.send%28msg%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20handleSpinAnimation%28targetPid%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20await%20delay%283500%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20createDeck%28%29%20%7B%20gameState.deck%20%3D%20%5B%5D%3B%20COLORS.forEach%28color%20%3D%3E%20%7B%20gameState.deck.push%28%7Bcolor%2C%20value%3A%200%7D%29%3B%20for%28let%20i%3D1%3B%20i%3C%3D9%3B%20i++%29%20%7B%20gameState.deck.push%28%7Bcolor%2C%20value%3A%20i%7D%29%3B%20gameState.deck.push%28%7Bcolor%2C%20value%3A%20i%7D%29%3B%20%7D%20SPECIALS.forEach%28val%20%3D%3E%20%7B%20gameState.deck.push%28%7Bcolor%2C%20value%3A%20val%7D%29%3B%20gameState.deck.push%28%7Bcolor%2C%20value%3A%20val%7D%29%3B%20%7D%29%3B%20%7D%29%3B%20for%28let%20i%3D0%3B%20i%3C4%3B%20i++%29%20%7B%20gameState.deck.push%28%7Bcolor%3A%20%27black%27%2C%20value%3A%20%27wild%27%7D%29%3B%20gameState.deck.push%28%7Bcolor%3A%20%27black%27%2C%20value%3A%20%27wild4%27%7D%29%3B%20%7D%20gameState.deck.sort%28%28%29%20%3D%3E%20Math.random%28%29%20-%200.5%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20triggerActionAnimation%28type%2C%20color%2C%20targetId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20overlay%20%3D%20%24%28%27action-overlay%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overlay.innerHTML%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20animHTML%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28type%20%3D%3D%3D%20%27reverse%27%29%20%7B%20animHTML%20%3D%20%60%3Cdiv%20class%3D%22anim-reverse-modern%22%3E%3Cdiv%20class%3D%22rev-arrow%22%3E%3C/div%3E%3Ci%20class%3D%22fas%20fa-sync-alt%20rev-icon-center%22%3E%3C/i%3E%3C/div%3E%60%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28type%20%3D%3D%3D%20%27skip%27%29%20%7B%20animHTML%20%3D%20%60%3Cdiv%20class%3D%22anim-skip-modern%22%20id%3D%22anim-skip-icon%22%3E%3Ci%20class%3D%22fas%20fa-ban%22%3E%3C/i%3E%3C/div%3E%60%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28type%20%3D%3D%3D%20%27draw4%27%29%20%7B%20animHTML%20%3D%20%60%3Cdiv%20class%3D%22anim-draw-text-only%22%20style%3D%22color%3A%23ff4757%22%3E+4%3C/div%3E%60%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28type%20%3D%3D%3D%20%27draw2%27%29%20%7B%20let%20txtColor%20%3D%20color%20%3D%3D%3D%20%27red%27%20%3F%20%27%23ff4757%27%20%3A%20%28color%20%3D%3D%3D%20%27blue%27%20%3F%20%27%231e90ff%27%20%3A%20%28color%20%3D%3D%3D%20%27yellow%27%20%3F%20%27%23ffa502%27%20%3A%20%27%232ed573%27%29%29%3B%20animHTML%20%3D%20%60%3Cdiv%20class%3D%22anim-draw-text-only%22%20style%3D%22color%3A%24%7BtxtColor%7D%22%3E+2%3C/div%3E%60%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20overlay.innerHTML%20%3D%20animHTML%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28targetId%20%26%26%20%28type%20%3D%3D%3D%20%27draw4%27%20%7C%7C%20type%20%3D%3D%3D%20%27draw2%27%20%7C%7C%20type%20%3D%3D%3D%20%27skip%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20targetEl%20%3D%20%28targetId%20%3D%3D%3D%20myId%29%20%3F%20%24%28%27my-hand-area-container%27%29%20%3A%20%24%28%60stack-%24%7BtargetId%7D%60%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21targetEl%29%20targetEl%20%3D%20document.querySelector%28%27.seat-top%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28targetEl%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20rect%20%3D%20targetEl.getBoundingClientRect%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20destX%20%3D%20rect.left%20+%20rect.width%20/%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20destY%20%3D%20rect.top%20+%20rect.height%20/%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20count%20%3D%20%28type%20%3D%3D%3D%20%27draw4%27%29%20%3F%204%20%3A%20%28type%20%3D%3D%3D%20%27draw2%27%20%3F%202%20%3A%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20spawnProjectiles%28count%2C%20destX%2C%20destY%2C%20type%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%20overlay.innerHTML%20%3D%20%27%27%3B%20%7D%2C%202500%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20spawnProjectiles%28count%2C%20destX%2C%20destY%2C%20type%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%20count%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20card%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20card.className%20%3D%20%27projectile-card%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28type%20%3D%3D%3D%20%27skip%27%29%20%7B%20card.style.background%20%3D%20%27%232f3542%27%3B%20card.innerHTML%20%3D%20%27%3Ci%20class%3D%22fas%20fa-ban%22%20style%3D%22font-size%3A30px%3B%20color%3Awhite%3B%20position%3Aabsolute%3B%20top%3A50%25%3B%20left%3A50%25%3B%20transform%3Atranslate%28-50%25%2C-50%25%29%22%3E%3C/i%3E%27%3B%20card.style.border%20%3D%20%272px%20solid%20red%27%3B%20%7D%20else%20%7B%20card.style.background%20%3D%20%27linear-gradient%28135deg%2C%20%23e17055%2C%20%23d63031%29%27%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.body.appendChild%28card%29%3B%20playSound%28%27throw%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20void%20card.offsetWidth%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20centerX%20%3D%20window.innerWidth%20/%202%3B%20let%20centerY%20%3D%20window.innerHeight%20/%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20moveX%20%3D%20destX%20-%20centerX%3B%20let%20moveY%20%3D%20destY%20-%20centerY%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20card.style.transform%20%3D%20%60translate%28calc%28-50%25%20+%20%24%7BmoveX%7Dpx%29%2C%20calc%28-50%25%20+%20%24%7BmoveY%7Dpx%29%29%20scale%280.2%29%20rotate%28%24%7BMath.random%28%29%20*%20360%7Ddeg%29%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20card.style.opacity%20%3D%20%270%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%20card.remove%28%29%3B%20%7D%2C%20800%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20i%20*%20250%20+%20500%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20broadcastActionEffect%28type%2C%20color%2C%20targetId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20msg%20%3D%20%7B%20type%3A%20%27SHOW_EFFECT%27%2C%20effect%3A%20type%2C%20color%3A%20color%2C%20targetId%3A%20targetId%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isBotMode%29%20%7B%20handleAnimationEvent%28msg%29%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%20hostConnections.forEach%28c%20%3D%3E%20c.send%28msg%29%29%3B%20handleAnimationEvent%28msg%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20processPlayCard%28pid%2C%20cardIdx%2C%20wildColor%2C%20unoCalled%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20pIdx%20%3D%20gameState.players.findIndex%28p%20%3D%3E%20p.id%20%3D%3D%3D%20pid%29%3B%20if%28pIdx%20%21%3D%3D%20gameState.turnIdx%29%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20hand%20%3D%20serverHands%5Bpid%5D%3B%20let%20card%20%3D%20hand%5BcardIdx%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20broadcastAnimation%28pid%2C%20card%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20hand.splice%28cardIdx%2C%201%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20gameState.discard.push%28card%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20gameState.players%5BpIdx%5D.handCount%20%3D%20hand.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28hand.length%20%3D%3D%3D%201%20%26%26%20%21unoCalled%29%20%7B%20drawFromDeck%28pid%2C%202%29%3B%20broadcastToast%28%60%24%7BgameState.players%5BpIdx%5D.name%7D%20forgot%20UNO%21%60%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28hand.length%20%3D%3D%3D%200%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gameState.gameStatus%20%3D%20%27ended%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20gameState.winner%20%3D%20gameState.players%5BpIdx%5D.name%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playSound%28%27win%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20broadcastState%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20advance%20%3D%201%3B%20let%20victimId%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20nextIdx%20%3D%20getNextIdx%281%29%3B%20let%20nextPlayer%20%3D%20gameState.players%5BnextIdx%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28card.value%20%3D%3D%3D%20%27reverse%27%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28gameState.players.length%20%3D%3D%3D%202%29%20%7B%20advance%20%3D%202%3B%20broadcastActionEffect%28%27reverse%27%2C%20null%2C%20null%29%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%20gameState.direction%20*%3D%20-1%3B%20broadcastActionEffect%28%27reverse%27%2C%20null%2C%20null%29%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28card.value%20%3D%3D%3D%20%27skip%27%29%20%7B%20advance%20%3D%202%3B%20victimId%20%3D%20nextPlayer.id%3B%20broadcastActionEffect%28%27skip%27%2C%20null%2C%20victimId%29%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28card.value%20%3D%3D%3D%20%27draw2%27%29%20%7B%20advance%20%3D%202%3B%20victimId%20%3D%20nextPlayer.id%3B%20drawFromDeck%28victimId%2C%202%29%3B%20broadcastActionEffect%28%27draw2%27%2C%20card.color%2C%20victimId%29%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28card.value%20%3D%3D%3D%20%27wild4%27%29%20%7B%20advance%20%3D%202%3B%20victimId%20%3D%20nextPlayer.id%3B%20drawFromDeck%28victimId%2C%204%29%3B%20broadcastActionEffect%28%27draw4%27%2C%20null%2C%20victimId%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28card.color%20%3D%3D%3D%20%27black%27%29%20%7B%20gameState.activeColor%20%3D%20wildColor%3B%20gameState.activeValue%20%3D%20null%3B%20%7D%20else%20%7B%20gameState.activeColor%20%3D%20card.color%3B%20gameState.activeValue%20%3D%20card.value%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20gameState.turnIdx%20%3D%20getNextIdx%28advance%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20distributeHandsToClients%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%20broadcastState%28%29%3B%20checkBotTurn%28%29%3B%20%7D%2C%20100%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20processDrawCard%28pid%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20pIdx%20%3D%20gameState.players.findIndex%28p%20%3D%3E%20p.id%20%3D%3D%3D%20pid%29%3B%20if%28pIdx%20%21%3D%3D%20gameState.turnIdx%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20broadcastDrawAnimation%28pid%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20drawn%20%3D%20drawFromDeck%28pid%2C%201%29%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20isPlayable%20%3D%20%28drawn.color%20%3D%3D%3D%20%27black%27%29%20%7C%7C%20%28drawn.color%20%3D%3D%3D%20gameState.activeColor%29%20%7C%7C%20%28drawn.value%20%3D%3D%3D%20gameState.activeValue%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%21isPlayable%29%20%7B%20gameState.turnIdx%20%3D%20getNextIdx%281%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28pid%20%3D%3D%3D%20myId%29%20myHand%20%3D%20serverHands%5BmyId%5D%3B%20distributeHandsToClients%28%29%3B%20broadcastState%28%29%3B%20setTimeout%28checkBotTurn%2C%20500%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20300%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20drawFromDeck%28pid%2C%20count%29%20%7B%20let%20drawn%20%3D%20%5B%5D%3B%20for%28let%20i%3D0%3B%20i%3Ccount%3B%20i++%29%20%7B%20if%28gameState.deck.length%20%3D%3D%3D%200%29%20%7B%20let%20top%20%3D%20gameState.discard.pop%28%29%3B%20gameState.deck%20%3D%20gameState.discard%3B%20gameState.discard%20%3D%20%5Btop%5D%3B%20gameState.deck.sort%28%28%29%20%3D%3E%20Math.random%28%29%20-%200.5%29%3B%20%7D%20drawn.push%28gameState.deck.pop%28%29%29%3B%20%7D%20serverHands%5Bpid%5D.push%28...drawn%29%3B%20gameState.players.find%28p%3D%3Ep.id%3D%3D%3Dpid%29.handCount%20%3D%20serverHands%5Bpid%5D.length%3B%20return%20drawn%3B%20%7D%0A%20%20%20%20%20%20%20%20function%20getNextIdx%28step%29%20%7B%20let%20len%20%3D%20gameState.players.length%3B%20let%20idx%20%3D%20%28gameState.turnIdx%20+%20%28step%20*%20gameState.direction%29%29%20%25%20len%3B%20if%20%28idx%20%3C%200%29%20idx%20+%3D%20len%3B%20return%20idx%3B%20%7D%0A%20%20%20%20%20%20%20%20function%20distributeHandsToClients%28%29%20%7B%20if%28isBotMode%29%20%7B%20myHand%20%3D%20serverHands%5BmyId%5D%3B%20renderHand%28%29%3B%20%7D%20else%20hostConnections.forEach%28c%20%3D%3E%20%7B%20if%28serverHands%5Bc.peer%5D%29%20c.send%28%7B%20type%3A%20%27HAND_UPDATE%27%2C%20hand%3A%20serverHands%5Bc.peer%5D%20%7D%29%3B%20%7D%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20broadcastState%28%29%20%7B%20if%28isBotMode%29%20updateUI%28%29%3B%20else%20%7B%20hostConnections.forEach%28c%20%3D%3E%20c.send%28%7B%20type%3A%20%27STATE%27%2C%20state%3A%20gameState%20%7D%29%29%3B%20updateUI%28%29%3B%20%7D%20%7D%0A%20%20%20%20%20%20%20%20function%20broadcastAnimation%28pid%2C%20card%29%20%7B%20let%20msg%20%3D%20%7B%20type%3A%20%27ANIMATE_THROW%27%2C%20fromId%3A%20pid%2C%20card%3A%20card%20%7D%3B%20if%28isBotMode%29%20handleAnimationEvent%28msg%29%3B%20else%20%7B%20hostConnections.forEach%28c%20%3D%3E%20c.send%28msg%29%29%3B%20handleAnimationEvent%28msg%29%3B%20%7D%20%7D%0A%20%20%20%20%20%20%20%20function%20broadcastDrawAnimation%28pid%29%20%7B%20let%20msg%20%3D%20%7B%20type%3A%20%27ANIMATE_DRAW%27%2C%20toId%3A%20pid%20%7D%3B%20if%28isBotMode%29%20handleAnimationEvent%28msg%29%3B%20else%20%7B%20hostConnections.forEach%28c%20%3D%3E%20c.send%28msg%29%29%3B%20handleAnimationEvent%28msg%29%3B%20%7D%20%7D%0A%20%20%20%20%20%20%20%20function%20broadcastShowHands%28%29%20%7B%20let%20msg%20%3D%20%7B%20type%3A%20%27SHOW_HANDS_VISUAL%27%20%7D%3B%20if%28isBotMode%29%20handleShowHands%28%29%3B%20else%20%7B%20hostConnections.forEach%28c%20%3D%3E%20c.send%28msg%29%29%3B%20handleShowHands%28%29%3B%20%7D%20%7D%0A%20%20%20%20%20%20%20%20function%20broadcastToast%28msg%29%20%7B%20toast%28msg%29%3B%20if%28%21isBotMode%29%20hostConnections.forEach%28c%20%3D%3E%20c.send%28%7B%20type%3A%20%27TOAST%27%2C%20msg%3A%20msg%20%7D%29%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20checkBotTurn%28%29%20%7B%20let%20curP%20%3D%20gameState.players%5BgameState.turnIdx%5D%3B%20if%28curP%20%26%26%20curP.isBot%29%20setTimeout%28%28%29%20%3D%3E%20botPlayTurn%28curP%29%2C%201500%29%3B%20%7D%0A%20%20%20%20%20%20%20%20function%20botPlayTurn%28bot%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20hand%20%3D%20serverHands%5Bbot.id%5D%3B%20let%20playable%20%3D%20%5B%5D%3B%20hand.forEach%28%28c%2C%20i%29%20%3D%3E%20%7B%20if%28c.color%20%3D%3D%3D%20%27black%27%20%7C%7C%20c.color%20%3D%3D%3D%20gameState.activeColor%20%7C%7C%20c.value%20%3D%3D%3D%20gameState.activeValue%29%20playable.push%28i%29%3B%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28playable.length%20%3D%3D%3D%200%29%20%7B%20processDrawCard%28bot.id%29%3B%20return%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20idx%20%3D%20playable%5B0%5D%3B%20let%20card%20%3D%20hand%5Bidx%5D%3B%20let%20wColor%20%3D%20card.color%20%3D%3D%3D%20%27black%27%20%3F%20%27red%27%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20processPlayCard%28bot.id%2C%20idx%2C%20wColor%2C%20hand.length%20%3D%3D%3D%202%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20handleClientData%28data%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27STATE%27%29%20%7B%20gameState%20%3D%20data.state%3B%20updateUI%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27HAND_UPDATE%27%29%20%7B%20myHand%20%3D%20data.hand%3B%20renderHand%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27TOAST%27%29%20toast%28data.msg%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27PEER_LIST%27%29%20connectToNewPeers%28data.peers%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27ANIMATE_THROW%27%20%7C%7C%20data.type%20%3D%3D%3D%20%27ANIMATE_DRAW%27%20%7C%7C%20data.type%20%3D%3D%3D%20%27SHOW_EFFECT%27%29%20handleAnimationEvent%28data%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27SHOW_HANDS_VISUAL%27%29%20handleShowHands%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27SPIN_TO_START%27%29%20handleSpinAnimation%28data.targetId%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Rematch%20Client%20Side%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27REMATCH_TIMER_START%27%29%20showRematchUI%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27REMATCH_TIMER_TICK%27%29%20%24%28%27rematch-timer%27%29.innerText%20%3D%20%60Time%3A%20%24%7Bdata.sec%7Ds%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27REMATCH_MSG%27%29%20%7B%20%24%28%27rematch-status%27%29.innerText%20%3D%20data.msg%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27FORCE_HOME%27%29%20%7B%20location.reload%28%29%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28data.type%20%3D%3D%3D%20%27PROPOSE_REDUCED%27%29%20showReducedNegotiation%28data.leavers%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20sendToHost%28data%29%20%7B%20if%28isHost%29%20%7B%20if%28data.type%20%3D%3D%3D%20%27PLAY_CARD%27%29%20processPlayCard%28myId%2C%20data.cardIdx%2C%20data.wildColor%2C%20data.unoCalled%29%3B%20if%28data.type%20%3D%3D%3D%20%27DRAW_CARD%27%29%20processDrawCard%28myId%29%3B%20if%28data.type%20%3D%3D%3D%20%27VOTE_REMATCH%27%29%20handleRematchVote%28myId%2C%20data.val%29%3B%20if%28data.type%20%3D%3D%3D%20%27VOTE_REDUCED%27%29%20handleReducedVote%28myId%2C%20data.val%29%3B%20%7D%20else%20conn.send%28data%29%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20drawCardReq%28%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28isMyTurn%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clearDrawHint%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sendToHost%28%7B%20type%3A%20%27DRAW_CARD%27%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20playCardReq%28idx%2C%20cardObj%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28%21isMyTurn%28%29%29%20return%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20clearDrawHint%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28cardObj.color%20%3D%3D%3D%20%27black%27%29%20%7B%20pendingPlay%20%3D%20%7B%20idx%2C%20unoState%3A%20%24%28%27uno-btn%27%29.classList.contains%28%27clicked%27%29%20%7D%3B%20%24%28%27modal-color%27%29.style.display%20%3D%20%27flex%27%3B%20%7D%20else%20%7B%20sendToHost%28%7B%20type%3A%20%27PLAY_CARD%27%2C%20cardIdx%3A%20idx%2C%20wildColor%3A%20null%2C%20unoCalled%3A%20%24%28%27uno-btn%27%29.classList.contains%28%27clicked%27%29%20%7D%29%3B%20resetUnoBtn%28%29%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20selectColor%28color%29%20%7B%20%24%28%27modal-color%27%29.style.display%20%3D%20%27none%27%3B%20if%28pendingPlay%29%20%7B%20sendToHost%28%7B%20type%3A%20%27PLAY_CARD%27%2C%20cardIdx%3A%20pendingPlay.idx%2C%20wildColor%3A%20color%2C%20unoCalled%3A%20pendingPlay.unoState%20%7D%29%3B%20resetUnoBtn%28%29%3B%20pendingPlay%20%3D%20null%3B%20%7D%20%7D%0A%20%20%20%20%20%20%20%20function%20isMyTurn%28%29%20%7B%20return%20gameState.players.findIndex%28p%20%3D%3E%20p.id%20%3D%3D%3D%20myId%29%20%3D%3D%3D%20gameState.turnIdx%3B%20%7D%0A%20%20%20%20%20%20%20%20function%20sayUno%28%29%20%7B%20if%28myHand.length%20%3C%3D%202%29%20%7B%20%24%28%27uno-btn%27%29.classList.add%28%27clicked%27%29%3B%20%24%28%27uno-btn%27%29.style.background%20%3D%20%27%2300b894%27%3B%20playSound%28%27uno%27%29%3B%20%7D%20%7D%0A%20%20%20%20%20%20%20%20function%20resetUnoBtn%28%29%20%7B%20%24%28%27uno-btn%27%29.classList.remove%28%27clicked%27%29%3B%20%24%28%27uno-btn%27%29.style.background%20%3D%20%27%27%3B%20%24%28%27uno-btn%27%29.style.display%20%3D%20%27none%27%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20updateUI%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28gameState.gameStatus%20%3D%3D%3D%20%27playing%27%20%7C%7C%20gameState.gameStatus%20%3D%3D%3D%20%27dealing%27%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%21%24%28%27screen-game%27%29.classList.contains%28%27active%27%29%29%20%7B%20hideAll%28%29%3B%20show%28%27screen-game%27%29%3B%20%7D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20renderGame%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28isMyTurn%28%29%20%26%26%20gameState.gameStatus%20%3D%3D%3D%20%27playing%27%29%20startTurnTimer%28%29%3B%20else%20clearDrawHint%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28gameState.gameStatus%20%3D%3D%3D%20%27lobby%27%29%20renderLobby%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28gameState.gameStatus%20%3D%3D%3D%20%27ended%27%29%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hideAll%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27winner-name%27%29.innerText%20%3D%20gameState.winner%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27rematch-timer%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27rematch-status%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27win-buttons%27%29.style.display%20%3D%20%27flex%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27screen-rematch-negotiation%27%29.classList.remove%28%27active%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20show%28%27screen-winner%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20function%20renderLobby%28%29%20%7B%20const%20list%20%3D%20%24%28%27lobby-players%27%29%3B%20list.innerHTML%20%3D%20%27%27%3B%20gameState.players.forEach%28p%20%3D%3E%20%7B%20list.innerHTML%20+%3D%20%60%3Cdiv%20class%3D%22lobby-card%22%3E%3Ci%20class%3D%22fas%20fa-user-circle%22%20style%3D%22font-size%3A1.5rem%3B%22%3E%3C/i%3E%20%24%7Bp.name%7D%3C/div%3E%60%3B%20%7D%29%3B%20if%28isHost%20%26%26%20gameState.players.length%20%3E%3D%202%29%20%24%28%27start-btn%27%29.style.display%20%3D%20%27block%27%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20renderGame%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27seat-left%27%29.innerHTML%20%3D%20%27%27%3B%20%24%28%27seat-top%27%29.innerHTML%20%3D%20%27%27%3B%20%24%28%27seat-right%27%29.innerHTML%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20myIdx%20%3D%20gameState.players.findIndex%28p%20%3D%3E%20p.id%20%3D%3D%3D%20myId%29%3B%20let%20total%20%3D%20gameState.players.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20myContainer%20%3D%20%24%28%27my-hand-area-container%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28myIdx%20%3D%3D%3D%20gameState.turnIdx%29%20myContainer.classList.add%28%27my-turn-active%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20myContainer.classList.remove%28%27my-turn-active%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20i%3D1%3B%20i%3Ctotal%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20pIdx%20%3D%20%28myIdx%20+%20i%29%20%25%20total%3B%20let%20p%20%3D%20gameState.players%5BpIdx%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20slotId%20%3D%20%28total%20%3D%3D%3D%202%29%20%3F%20%27seat-top%27%20%3A%20%28i%3D%3D%3D1%20%3F%20%27seat-left%27%20%3A%20%28i%3D%3D%3D2%20%3F%20%27seat-top%27%20%3A%20%27seat-right%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20stackClass%20%3D%20%28slotId%20%3D%3D%3D%20%27seat-top%27%29%20%3F%20%27stack-horizontal%27%20%3A%20%27stack-vertical%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20isMuted%20%3D%20false%3B%20if%28%21p.isBot%29%20%7B%20let%20el%20%3D%20document.getElementById%28%60audio-%24%7Bp.id%7D%60%29%3B%20if%28el%20%26%26%20el.muted%29%20isMuted%20%3D%20true%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20muteHtml%20%3D%20p.isBot%20%3F%20%27%3Ci%20class%3D%22fas%20fa-robot%22%3E%3C/i%3E%27%20%3A%20%60%3Cspan%20class%3D%22mute-opponent-btn%20%24%7BisMuted%3F%27muted%27%3A%27%27%7D%22%20onclick%3D%22toggleOpponentMute%28%27%24%7Bp.id%7D%27%2C%20this%29%22%3E%24%7BisMuted%20%3F%20%27%3Ci%20class%3D%22fas%20fa-volume-mute%22%3E%3C/i%3E%27%20%3A%20%27%3Ci%20class%3D%22fas%20fa-volume-up%22%3E%3C/i%3E%27%7D%3C/span%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20stackHtml%20%3D%20%27%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20countToShow%20%3D%20p.handCount%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28gameState.gameStatus%20%3D%3D%3D%20%27dealing%27%20%26%26%20p.handCount%20%3D%3D%3D%200%29%20countToShow%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28let%20k%3D0%3B%20k%3CMath.min%28countToShow%2C%2015%29%3B%20k++%29%20stackHtml%20+%3D%20%60%3Cdiv%20class%3D%22opp-card%22%3E%3C/div%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20infoBox%20%3D%20%60%3Cdiv%20class%3D%22p-info-box%22%3E%3Cspan%20class%3D%22p-name%22%3E%24%7Bp.name%7D%3C/span%3E%24%7BmuteHtml%7D%3C/div%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20stackBox%20%3D%20%60%3Cdiv%20class%3D%22card-stack%20%24%7BstackClass%7D%20%24%7BcountToShow%20%3E%200%20%3F%20%27visible%27%3A%27%27%7D%22%20id%3D%22stack-%24%7Bp.id%7D%22%3E%24%7BstackHtml%7D%3C/div%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20finalHtml%20%3D%20%28slotId%20%3D%3D%3D%20%27seat-left%27%29%20%3F%20stackBox%20+%20infoBox%20%3A%20%28slotId%20%3D%3D%3D%20%27seat-right%27%20%3F%20infoBox%20+%20stackBox%20%3A%20stackBox%20+%20infoBox%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20seatEl%20%3D%20%24%28slotId%29%3B%20seatEl.innerHTML%20%3D%20finalHtml%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28pIdx%20%3D%3D%3D%20gameState.turnIdx%29%20%3F%20seatEl.classList.add%28%27active-turn%27%29%20%3A%20seatEl.classList.remove%28%27active-turn%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20topCard%20%3D%20gameState.discard%5BgameState.discard.length%20-%201%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27discard-pile%27%29.innerHTML%20%3D%20createCardHTML%28topCard%2C%20topCard.color%20%3D%3D%3D%20%27black%27%20%3F%20gameState.activeColor%20%3A%20topCard.color%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27active-color-bubble%27%29.className%20%3D%20%60color-bubble%20c-%24%7BgameState.activeColor%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27dir-spinner%27%29.className%20%3D%20%60direction-spin%20%24%7BgameState.direction%20%3D%3D%3D%201%20%3F%20%27spin-cw%27%20%3A%20%27spin-ccw%27%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28gameState.gameStatus%20%3D%3D%3D%20%27dealing%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27turn-indicator%27%29.innerText%20%3D%20%22%u0995%u09BE%u09B0%u09CD%u09A1%20%u09A6%u09C7%u0993%u09DF%u09BE%20%u09B9%u099A%u09CD%u099B%u09C7...%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27turn-indicator%27%29.innerText%20%3D%20isMyTurn%28%29%20%3F%20%22%u0986%u09AA%u09A8%u09BE%u09B0%20%u099A%u09BE%u09B2%21%22%20%3A%20%60%24%7BgameState.players%5BgameState.turnIdx%5D.name%7D%20%u098F%u09B0%20%u099A%u09BE%u09B2...%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20renderHand%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20renderHand%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20handDiv%20%3D%20%24%28%27my-hand%27%29%3B%20handDiv.innerHTML%20%3D%20%27%27%3B%20let%20myTurn%20%3D%20isMyTurn%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28myHand.length%20%3D%3D%3D%202%20%26%26%20myTurn%29%20%24%28%27uno-btn%27%29.style.display%20%3D%20%27flex%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20myHand.forEach%28%28card%2C%20idx%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20wrapper%20%3D%20document.createElement%28%27div%27%29%3B%20wrapper.className%20%3D%20%27hand-card-wrapper%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20isValid%20%3D%20myTurn%20%26%26%20%28card.color%20%3D%3D%3D%20%27black%27%20%7C%7C%20card.color%20%3D%3D%3D%20gameState.activeColor%20%7C%7C%20card.value%20%3D%3D%3D%20gameState.activeValue%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28isValid%29%20%7B%20wrapper.classList.add%28%27valid-card%27%29%3B%20wrapper.onclick%20%3D%20%28%29%20%3D%3E%20playCardReq%28idx%2C%20card%29%3B%20%7D%20else%20if%28myTurn%29%20wrapper.classList.add%28%27disabled%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20wrapper.innerHTML%20%3D%20createCardHTML%28card%2C%20card.color%29%3B%20handDiv.appendChild%28wrapper%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20handleShowHands%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.querySelectorAll%28%27.card-stack%27%29.forEach%28el%20%3D%3E%20el.classList.add%28%27visible%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20myArea%20%3D%20%24%28%27my-hand-area-container%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20myArea.classList.add%28%27visible%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20handleSpinAnimation%28targetId%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20targetEl%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28targetId%20%3D%3D%3D%20myId%29%20targetEl%20%3D%20%24%28%27my-hand-area-container%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20targetEl%20%3D%20%24%28%60stack-%24%7BtargetId%7D%60%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28%21targetEl%29%20return%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20box%20%3D%20targetEl.getBoundingClientRect%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20tx%20%3D%20box.left%20+%20box.width/2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20ty%20%3D%20box.top%20+%20box.height/2%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20cx%20%3D%20window.innerWidth%20/%202%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20cy%20%3D%20window.innerHeight%20/%202%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20deltaX%20%3D%20tx%20-%20cx%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20deltaY%20%3D%20ty%20-%20cy%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20rad%20%3D%20Math.atan2%28deltaY%2C%20deltaX%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20deg%20%3D%20rad%20*%20%28180%20/%20Math.PI%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20finalRot%20%3D%20deg%20+%201080%3B%20%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20arrowCont%20%3D%20%24%28%27starter-arrow-container%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20arrow%20%3D%20%24%28%27starter-arrow%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20arrowCont.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20arrow.style.transition%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20arrow.style.transform%20%3D%20%27rotate%280deg%29%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20void%20arrow.offsetWidth%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20arrow.style.transition%20%3D%20%27transform%203s%20cubic-bezier%280.1%2C%200%2C%200.1%2C%201%29%27%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20arrow.style.transform%20%3D%20%60rotate%28%24%7BfinalRot%7Ddeg%29%60%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arrowCont.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%203500%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20createCardHTML%28card%2C%20forceColor%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20disp%20%3D%20card.value%3B%20let%20icon%20%3D%20disp%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28typeof%20disp%20%21%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28disp%20%3D%3D%3D%20%27skip%27%29%20icon%20%3D%20%27%3Ci%20class%3D%22fas%20fa-ban%22%3E%3C/i%3E%27%3B%20if%28disp%20%3D%3D%3D%20%27reverse%27%29%20icon%20%3D%20%27%3Ci%20class%3D%22fas%20fa-sync-alt%22%3E%3C/i%3E%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28disp%20%3D%3D%3D%20%27draw2%27%29%20icon%20%3D%20%27+2%27%3B%20if%28disp%20%3D%3D%3D%20%27wild%27%29%20icon%20%3D%20%27%3Ci%20class%3D%22fas%20fa-paw%22%3E%3C/i%3E%27%3B%20if%28disp%20%3D%3D%3D%20%27wild4%27%29%20icon%20%3D%20%27+4%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%60%3Cdiv%20class%3D%22card%20c-%24%7BforceColor%7D%22%3E%3Cspan%20class%3D%22card-icon-corner%20tl%22%3E%24%7Bicon%7D%3C/span%3E%3Cdiv%20class%3D%22card-inner%22%3E%24%7Bicon%7D%3C/div%3E%3Cspan%20class%3D%22card-icon-corner%20br%22%3E%24%7Bicon%7D%3C/span%3E%3C/div%3E%60%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20handleAnimationEvent%28data%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28data.type%20%3D%3D%3D%20%27SHOW_EFFECT%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20triggerActionAnimation%28data.effect%2C%20data.color%2C%20data.targetId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%28data.type%20%3D%3D%3D%20%27ANIMATE_DRAW%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playSound%28%27draw%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20cardEl%20%3D%20document.createElement%28%27div%27%29%3B%20cardEl.className%20%3D%20%27flying-card%27%3B%20cardEl.innerHTML%20%3D%20%60%3Cdiv%20style%3D%22width%3A80px%3B%20height%3A120px%3B%20background%3Avar%28--card-back-grad%29%3B%20border%3A2px%20solid%20white%3B%20border-radius%3A6px%3B%22%3E%3C/div%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20start%20%3D%20%24%28%27draw-pile%27%29.getBoundingClientRect%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dest%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28data.toId%20%3D%3D%3D%20myId%29%20dest%20%3D%20%24%28%27my-hand-area-container%27%29.getBoundingClientRect%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20dest%20%3D%20%24%28%60stack-%24%7Bdata.toId%7D%60%29%20%3F%20%24%28%60stack-%24%7Bdata.toId%7D%60%29.getBoundingClientRect%28%29%20%3A%20%7Btop%3A0%2C%20left%3A0%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28dest.width%20%3D%3D%3D%200%29%20%7B%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.body.appendChild%28cardEl%29%3B%20cardEl.style.left%20%3D%20start.left+%27px%27%3B%20cardEl.style.top%20%3D%20start.top+%27px%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20targetX%20%3D%20dest.left%20+%20%28dest.width/2%29%20-%2040%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20targetY%20%3D%20dest.top%20+%20%28dest.height/2%29%20-%2060%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%20cardEl.style.left%20%3D%20targetX+%27px%27%3B%20cardEl.style.top%20%3D%20targetY+%27px%27%3B%20cardEl.style.transform%20%3D%20%27scale%280.5%29%27%3B%20%7D%2C%2050%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20cardEl.remove%28%29%2C%20650%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playSound%28%27throw%27%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20cardEl%20%3D%20document.createElement%28%27div%27%29%3B%20cardEl.className%20%3D%20%27flying-card%27%3B%20cardEl.innerHTML%20%3D%20createCardHTML%28data.card%2C%20data.card.color%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20start%20%3D%20%28data.fromId%20%3D%3D%3D%20myId%29%20%3F%20%7Bleft%3A%20window.innerWidth/2%2C%20top%3A%20window.innerHeight%7D%20%3A%20%24%28%60stack-%24%7Bdata.fromId%7D%60%29.getBoundingClientRect%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20dest%20%3D%20%24%28%27discard-pile%27%29.getBoundingClientRect%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.body.appendChild%28cardEl%29%3B%20cardEl.style.left%20%3D%20start.left+%27px%27%3B%20cardEl.style.top%20%3D%20start.top+%27px%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%20cardEl.style.left%20%3D%20dest.left+%27px%27%3B%20cardEl.style.top%20%3D%20dest.top+%27px%27%3B%20cardEl.style.transform%20%3D%20%27rotate%28360deg%29%27%3B%20%7D%2C%2050%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20cardEl.remove%28%29%2C%20650%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20/*%20-----------------------------------------------------%0A%20%20%20%20%20%20%20%20%20%20%20REMATCH%20%26%20LOGIC%20%0A%20%20%20%20%20%20%20%20%20%20%20-----------------------------------------------------%20*/%0A%20%20%20%20%20%20%20%20function%20goHome%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28%21isBotMode%20%26%26%20%21isHost%29%20sendToHost%28%7Btype%3A%20%27PLAYER_LEAVING%27%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20location.reload%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20requestRematch%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28isBotMode%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startGameHost%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27win-buttons%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27rematch-status%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27rematch-status%27%29.innerText%20%3D%20%27Waiting%20for%20host...%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20sendToHost%28%7B%20type%3A%20%27VOTE_REMATCH%27%2C%20val%3A%20true%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20showRematchUI%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27win-buttons%27%29.style.display%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27rematch-timer%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27rematch-status%27%29.style.display%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20handleRematchVote%28pid%2C%20val%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28%21rematchVotes%29%20rematchVotes%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20rematchVotes%5Bpid%5D%20%3D%20val%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28isHost%20%26%26%20%21rematchTimerInt%20%26%26%20%21isBotMode%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startRematchTimer%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20startRematchTimer%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20timeLeft%20%3D%2010%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20rematchVotes%20%3D%20%7B%7D%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20rematchVotes%5BmyId%5D%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20hostConnections.forEach%28c%20%3D%3E%20c.send%28%7Btype%3A%20%27REMATCH_TIMER_START%27%7D%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20showRematchUI%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20rematchTimerInt%20%3D%20setInterval%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20timeLeft--%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hostConnections.forEach%28c%20%3D%3E%20c.send%28%7Btype%3A%20%27REMATCH_TIMER_TICK%27%2C%20sec%3A%20timeLeft%7D%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27rematch-timer%27%29.innerText%20%3D%20%60Time%3A%20%24%7BtimeLeft%7Ds%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28timeLeft%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clearInterval%28rematchTimerInt%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rematchTimerInt%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20decideRematch%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%201000%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20decideRematch%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20stayingPlayers%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20leavingPlayers%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gameState.players.forEach%28p%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28rematchVotes%5Bp.id%5D%29%20stayingPlayers.push%28p%29%3B%20else%20leavingPlayers.push%28p%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28leavingPlayers.length%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startGameHost%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28stayingPlayers.length%20%3C%202%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20broadcastToast%28%22Not%20enough%20players%20for%20rematch.%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hostConnections.forEach%28c%20%3D%3E%20c.send%28%7Btype%3A%20%27FORCE_HOME%27%7D%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20location.reload%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%202000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20leavingPlayers.forEach%28lp%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20connIdx%20%3D%20hostConnections.findIndex%28c%20%3D%3E%20c.peer%20%3D%3D%3D%20lp.id%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28connIdx%20%3E%20-1%29%20hostConnections.splice%28connIdx%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gameState.players%20%3D%20stayingPlayers%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20leaverNames%20%3D%20leavingPlayers.map%28p%20%3D%3E%20p.name%29.join%28%22%2C%20%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20waitingForReducedGame%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20rematchVotes%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20showReducedNegotiation%28leaverNames%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20hostConnections.forEach%28c%20%3D%3E%20c.send%28%7Btype%3A%20%27PROPOSE_REDUCED%27%2C%20leavers%3A%20leaverNames%7D%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20showReducedNegotiation%28names%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27screen-winner%27%29.classList.remove%28%27active%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27screen-rematch-negotiation%27%29.classList.add%28%27active%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27negotiation-msg%27%29.innerText%20%3D%20%60%24%7Bnames%7D%20will%20not%20play.%60%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20agreeToReducedGame%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%24%28%27screen-rematch-negotiation%27%29.innerHTML%20%3D%20%22%3Ch2%3EWaiting%20for%20others...%3C/h2%3E%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20sendToHost%28%7Btype%3A%20%27VOTE_REDUCED%27%2C%20val%3A%20true%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20handleReducedVote%28pid%2C%20val%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28%21waitingForReducedGame%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20rematchVotes%5Bpid%5D%20%3D%20val%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20allAgreed%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20voteCount%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gameState.players.forEach%28p%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28rematchVotes%5Bp.id%5D%29%20voteCount++%3B%20else%20allAgreed%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28voteCount%20%3D%3D%3D%20gameState.players.length%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20waitingForReducedGame%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20broadcastPeerList%28%29%3B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startGameHost%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hostConnections.forEach%28c%20%3D%3E%20c.send%28%7Btype%3A%20%27STATE%27%2C%20state%3A%20gameState%7D%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20function%20removePlayer%28pid%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20idx%20%3D%20gameState.players.findIndex%28p%20%3D%3E%20p.id%20%3D%3D%3D%20pid%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28idx%20%3E%20-1%29%20gameState.players.splice%28idx%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E'));
</script>
</body>
</html>
